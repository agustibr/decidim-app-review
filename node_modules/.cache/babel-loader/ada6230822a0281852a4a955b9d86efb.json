{"ast":null,"code":"import AutoComplete from \"src/decidim/autocomplete\";\n$(function () {\n  $(\"[data-decidim-geocoding]\").each(function (_i, el) {\n    var $input = $(el);\n    var autoComplete = new AutoComplete(el, {\n      mode: \"single\",\n      dataMatchKeys: [\"value\"],\n      dataSource: function dataSource(query, callback) {\n        $input.trigger(\"geocoder-suggest.decidim\", [query, callback]);\n      }\n    });\n    el.addEventListener(\"selection\", autoComplete);\n    $input.on(\"selection\", function (event) {\n      var selectedItem = event.detail.selection.value;\n      $input.trigger(\"geocoder-suggest-select.decidim\", [selectedItem]); // Not all geocoding autocomplete APIs include the coordinates in the\n      // suggestions response. Therefore, some APIs may require additional\n      // query for the coordinates, which should trigger this event for the\n      // input element.\n\n      if (selectedItem.coordinates) {\n        $input.trigger(\"geocoder-suggest-coordinates.decidim\", [selectedItem.coordinates]);\n      }\n    });\n  });\n});","map":{"version":3,"mappings":"AAAA,OAAOA,YAAP,MAAyB,0BAAzB;AAEAC,CAAC,CAAC,YAAM;EACNA,CAAC,CAAC,0BAAD,CAADA,CAA8BC,IAA9BD,CAAmC,UAACE,EAAD,EAAKC,EAAL,EAAY;IAC7C,IAAMC,MAAM,GAAGJ,CAAC,CAACG,EAAD,CAAhB;IAEA,IAAME,YAAY,GAAG,IAAIN,YAAJ,CAAiBI,EAAjB,EAAqB;MACxCG,IAAI,EAAE,QADkC;MAExCC,aAAa,EAAE,CAAC,OAAD,CAFyB;MAGxCC,UAAU,EAAE,oBAACC,KAAD,EAAQC,QAAR,EAAqB;QAC/BN,MAAM,CAACO,OAAPP,CAAe,0BAAfA,EAA2C,CAACK,KAAD,EAAQC,QAAR,CAA3CN;MACD;IALuC,CAArB,CAArB;IAOAD,EAAE,CAACS,gBAAHT,CAAoB,WAApBA,EAAiCE,YAAjCF;IAEAC,MAAM,CAACS,EAAPT,CAAU,WAAVA,EAAuB,UAACU,KAAD,EAAW;MAChC,IAAMC,YAAY,GAAGD,KAAK,CAACE,MAANF,CAAaG,SAAbH,CAAuBI,KAA5C;MACAd,MAAM,CAACO,OAAPP,CAAe,iCAAfA,EAAkD,CAACW,YAAD,CAAlDX,EAFgC,CAIhC;MACA;MACA;MACA;;MACA,IAAIW,YAAY,CAACI,WAAjB,EAA8B;QAC5Bf,MAAM,CAACO,OAAPP,CAAe,sCAAfA,EAAuD,CAACW,YAAY,CAACI,WAAd,CAAvDf;MACD;IAVH;EAZF;AADD,EAADJ","names":["AutoComplete","$","each","_i","el","$input","autoComplete","mode","dataMatchKeys","dataSource","query","callback","trigger","addEventListener","on","event","selectedItem","detail","selection","value","coordinates"],"sources":["/home/agustibr/.asdf/installs/ruby/3.0.2/lib/ruby/gems/3.0.0/bundler/gems/decidim-a25b5c74f78d/decidim-core/app/packs/src/decidim/geocoding.js"],"sourcesContent":["import AutoComplete from \"src/decidim/autocomplete\";\n\n$(() => {\n  $(\"[data-decidim-geocoding]\").each((_i, el) => {\n    const $input = $(el);\n\n    const autoComplete = new AutoComplete(el, {\n      mode: \"single\",\n      dataMatchKeys: [\"value\"],\n      dataSource: (query, callback) => {\n        $input.trigger(\"geocoder-suggest.decidim\", [query, callback]);\n      }\n    });\n    el.addEventListener(\"selection\", autoComplete);\n\n    $input.on(\"selection\", (event) => {\n      const selectedItem = event.detail.selection.value;\n      $input.trigger(\"geocoder-suggest-select.decidim\", [selectedItem]);\n\n      // Not all geocoding autocomplete APIs include the coordinates in the\n      // suggestions response. Therefore, some APIs may require additional\n      // query for the coordinates, which should trigger this event for the\n      // input element.\n      if (selectedItem.coordinates) {\n        $input.trigger(\"geocoder-suggest-coordinates.decidim\", [selectedItem.coordinates]);\n      }\n    });\n  });\n});\n"]},"metadata":{},"sourceType":"module"}