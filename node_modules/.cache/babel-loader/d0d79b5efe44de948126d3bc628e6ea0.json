{"ast":null,"code":"$(function () {\n  var $userRegistrationForm = $(\"#register-form\");\n  var $userGroupFields = $userRegistrationForm.find(\".user-group-fields\");\n  var inputSelector = 'input[name=\"user[sign_up_as]\"]';\n  var newsletterSelector = 'input[type=\"checkbox\"][name=\"user[newsletter]\"]';\n  var $newsletterModal = $(\"#sign-up-newsletter-modal\");\n\n  var setGroupFieldsVisibility = function setGroupFieldsVisibility(value) {\n    if (value === \"user\") {\n      $userGroupFields.hide();\n    } else {\n      $userGroupFields.show();\n    }\n  };\n\n  var checkNewsletter = function checkNewsletter(check) {\n    $userRegistrationForm.find(newsletterSelector).prop(\"checked\", check);\n    $newsletterModal.data(\"continue\", true);\n    $newsletterModal.foundation(\"close\");\n    $userRegistrationForm.submit();\n  };\n\n  setGroupFieldsVisibility($userRegistrationForm.find(\"\".concat(inputSelector, \":checked\")).val());\n  $userRegistrationForm.on(\"change\", inputSelector, function (event) {\n    var value = event.target.value;\n    setGroupFieldsVisibility(value);\n  });\n  $userRegistrationForm.on(\"submit\", function (event) {\n    var newsletterChecked = $userRegistrationForm.find(newsletterSelector);\n\n    if (!$newsletterModal.data(\"continue\")) {\n      if (!newsletterChecked.prop(\"checked\")) {\n        event.preventDefault();\n        $newsletterModal.foundation(\"open\");\n      }\n    }\n  });\n  $newsletterModal.find(\".check-newsletter\").on(\"click\", function (event) {\n    checkNewsletter($(event.target).data(\"check\"));\n  });\n});","map":{"version":3,"mappings":"AAAAA,CAAC,CAAC,YAAM;EACN,IAAMC,qBAAqB,GAAGD,CAAC,CAAC,gBAAD,CAA/B;EACA,IAAME,gBAAgB,GAAQD,qBAAqB,CAACE,IAAtBF,CAA2B,oBAA3BA,CAA9B;EACA,IAAMG,aAAa,GAAW,gCAA9B;EACA,IAAMC,kBAAkB,GAAM,iDAA9B;EACA,IAAMC,gBAAgB,GAAQN,CAAC,CAAC,2BAAD,CAA/B;;EAGA,IAAMO,wBAAwB,GAAG,SAA3BA,wBAA2B,CAACC,KAAD,EAAW;IAC1C,IAAIA,KAAK,KAAK,MAAd,EAAsB;MACpBN,gBAAgB,CAACO,IAAjBP;IADF,OAEO;MACLA,gBAAgB,CAACQ,IAAjBR;IACD;EALH;;EAQA,IAAMS,eAAe,GAAG,SAAlBA,eAAkB,CAACC,KAAD,EAAW;IACjCX,qBAAqB,CAACE,IAAtBF,CAA2BI,kBAA3BJ,EAA+CY,IAA/CZ,CAAoD,SAApDA,EAA+DW,KAA/DX;IACAK,gBAAgB,CAACQ,IAAjBR,CAAsB,UAAtBA,EAAkC,IAAlCA;IACAA,gBAAgB,CAACS,UAAjBT,CAA4B,OAA5BA;IACAL,qBAAqB,CAACe,MAAtBf;EAJF;;EAOAM,wBAAwB,CAACN,qBAAqB,CAACE,IAAtBF,WAA8BG,aAA9B,eAAuDa,GAAvDhB,EAAD,CAAxBM;EAEAN,qBAAqB,CAACiB,EAAtBjB,CAAyB,QAAzBA,EAAmCG,aAAnCH,EAAkD,UAACkB,KAAD,EAAW;IAC3D,IAAMX,KAAK,GAAGW,KAAK,CAACC,MAAND,CAAaX,KAA3B;IAEAD,wBAAwB,CAACC,KAAD,CAAxBD;EAHF;EAMAN,qBAAqB,CAACiB,EAAtBjB,CAAyB,QAAzBA,EAAmC,UAACkB,KAAD,EAAW;IAC5C,IAAME,iBAAiB,GAAGpB,qBAAqB,CAACE,IAAtBF,CAA2BI,kBAA3BJ,CAA1B;;IACA,IAAI,CAACK,gBAAgB,CAACQ,IAAjBR,CAAsB,UAAtBA,CAAL,EAAwC;MACtC,IAAI,CAACe,iBAAiB,CAACR,IAAlBQ,CAAuB,SAAvBA,CAAL,EAAwC;QACtCF,KAAK,CAACG,cAANH;QACAb,gBAAgB,CAACS,UAAjBT,CAA4B,MAA5BA;MACD;IACF;EAPH;EAUAA,gBAAgB,CAACH,IAAjBG,CAAsB,mBAAtBA,EAA2CY,EAA3CZ,CAA8C,OAA9CA,EAAuD,UAACa,KAAD,EAAW;IAChER,eAAe,CAACX,CAAC,CAACmB,KAAK,CAACC,MAAP,CAADpB,CAAgBc,IAAhBd,CAAqB,OAArBA,CAAD,CAAfW;EADF;AAzCD,EAADX","names":["$","$userRegistrationForm","$userGroupFields","find","inputSelector","newsletterSelector","$newsletterModal","setGroupFieldsVisibility","value","hide","show","checkNewsletter","check","prop","data","foundation","submit","val","on","event","target","newsletterChecked","preventDefault"],"sources":["/home/agustibr/.asdf/installs/ruby/3.0.2/lib/ruby/gems/3.0.0/bundler/gems/decidim-a25b5c74f78d/decidim-core/app/packs/src/decidim/user_registrations.js"],"sourcesContent":["$(() => {\n  const $userRegistrationForm = $(\"#register-form\");\n  const $userGroupFields      = $userRegistrationForm.find(\".user-group-fields\");\n  const inputSelector         = 'input[name=\"user[sign_up_as]\"]';\n  const newsletterSelector    = 'input[type=\"checkbox\"][name=\"user[newsletter]\"]';\n  const $newsletterModal      = $(\"#sign-up-newsletter-modal\");\n\n\n  const setGroupFieldsVisibility = (value) => {\n    if (value === \"user\") {\n      $userGroupFields.hide();\n    } else {\n      $userGroupFields.show();\n    }\n  }\n\n  const checkNewsletter = (check) => {\n    $userRegistrationForm.find(newsletterSelector).prop(\"checked\", check);\n    $newsletterModal.data(\"continue\", true);\n    $newsletterModal.foundation(\"close\");\n    $userRegistrationForm.submit();\n  }\n\n  setGroupFieldsVisibility($userRegistrationForm.find(`${inputSelector}:checked`).val());\n\n  $userRegistrationForm.on(\"change\", inputSelector, (event) => {\n    const value = event.target.value;\n\n    setGroupFieldsVisibility(value);\n  });\n\n  $userRegistrationForm.on(\"submit\", (event) => {\n    const newsletterChecked = $userRegistrationForm.find(newsletterSelector);\n    if (!$newsletterModal.data(\"continue\")) {\n      if (!newsletterChecked.prop(\"checked\")) {\n        event.preventDefault();\n        $newsletterModal.foundation(\"open\");\n      }\n    }\n  });\n\n  $newsletterModal.find(\".check-newsletter\").on(\"click\", (event) => {\n    checkNewsletter($(event.target).data(\"check\"));\n  });\n});\n"]},"metadata":{},"sourceType":"module"}