{"ast":null,"code":"import { pushState, registerCallback } from \"src/decidim/history\";\n\nvar initializeListingOptionsMenu = function initializeListingOptionsMenu(options) {\n  $(document).on(\"click\", \"\".concat(options.containerSelector, \" a\"), function (event) {\n    var $target = $(event.target);\n    $target.parents(\".menu\").find(\"a:first\").text($target.text());\n    pushState($target.attr(\"href\"));\n  });\n  registerCallback(options.callbackName, function () {\n    var url = window.location.toString();\n    var match = url.match(/${options.urlParameter}=([^&]*)/);\n    var $targetMenu = $(\"\".concat(options.containerSelector, \" .menu\"));\n    var value = $targetMenu.find(\".menu a:first\").data(options.dataAttribute);\n\n    if (match) {\n      value = match[1];\n    }\n\n    var linkText = $targetMenu.find(\".menu a[data-\".concat(options.dataAttribute, \"=\\\"\").concat(value, \"\\\"]\")).text();\n    $targetMenu.find(\"a:first\").text(linkText);\n  });\n};\n\n$(function () {\n  initializeListingOptionsMenu({\n    containerSelector: \".order-by\",\n    callbackName: \"orders\",\n    urlParameter: \"order\",\n    dataAttribute: \"order\"\n  });\n  initializeListingOptionsMenu({\n    containerSelector: \".results-per-page\",\n    callbackName: \"results_per_page\",\n    urlParameter: \"per_page\",\n    dataAttribute: \"per-page-option\"\n  });\n});","map":{"version":3,"mappings":"AAAA,SAASA,SAAT,EAAoBC,gBAApB,QAA4C,qBAA5C;;AAEA,IAAMC,4BAA4B,GAAG,SAA/BA,4BAA+B,CAACC,OAAD,EAAa;EAChDC,CAAC,CAACC,QAAD,CAADD,CAAYE,EAAZF,CAAe,OAAfA,YAA2BD,OAAO,CAACI,iBAAnC,SAA0D,UAACC,KAAD,EAAW;IACnE,IAAMC,OAAO,GAAGL,CAAC,CAACI,KAAK,CAACE,MAAP,CAAjB;IAEAD,OAAO,CAACE,OAARF,CAAgB,OAAhBA,EAAyBG,IAAzBH,CAA8B,SAA9BA,EAAyCI,IAAzCJ,CAA8CA,OAAO,CAACI,IAARJ,EAA9CA;IAEAT,SAAS,CAACS,OAAO,CAACK,IAARL,CAAa,MAAbA,CAAD,CAATT;EALF;EAQAC,gBAAgB,CAACE,OAAO,CAACY,YAAT,EAAuB,YAAM;IAC3C,IAAMC,GAAG,GAAGC,MAAM,CAACC,QAAPD,CAAgBE,QAAhBF,EAAZ;IACA,IAAMG,KAAK,GAAGJ,GAAG,CAACI,KAAJJ,CAAU,iCAAVA,CAAd;IACA,IAAMK,WAAW,GAAGjB,CAAC,WAAID,OAAO,CAACI,iBAAZ,YAArB;IACA,IAAIe,KAAK,GAAGD,WAAW,CAACT,IAAZS,CAAiB,eAAjBA,EAAkCE,IAAlCF,CAAuClB,OAAO,CAACqB,aAA/CH,CAAZ;;IAEA,IAAID,KAAJ,EAAW;MACTE,KAAK,GAAGF,KAAK,CAAC,CAAD,CAAbE;IACD;;IAED,IAAMG,QAAQ,GAAGJ,WAAW,CAACT,IAAZS,wBAAiClB,OAAO,CAACqB,aAAzC,gBAA2DF,KAA3D,UAAsET,IAAtEQ,EAAjB;IAEAA,WAAW,CAACT,IAAZS,CAAiB,SAAjBA,EAA4BR,IAA5BQ,CAAiCI,QAAjCJ;EAZc,EAAhBpB;AATF;;AAyBAG,CAAC,CAAC,YAAM;EACNF,4BAA4B,CAAC;IAC3BK,iBAAiB,EAAE,WADQ;IAE3BQ,YAAY,EAAE,QAFa;IAG3BW,YAAY,EAAE,OAHa;IAI3BF,aAAa,EAAE;EAJY,CAAD,CAA5BtB;EAMAA,4BAA4B,CAAC;IAC3BK,iBAAiB,EAAE,mBADQ;IAE3BQ,YAAY,EAAE,kBAFa;IAG3BW,YAAY,EAAE,UAHa;IAI3BF,aAAa,EAAE;EAJY,CAAD,CAA5BtB;AAPD,EAADE","names":["pushState","registerCallback","initializeListingOptionsMenu","options","$","document","on","containerSelector","event","$target","target","parents","find","text","attr","callbackName","url","window","location","toString","match","$targetMenu","value","data","dataAttribute","linkText","urlParameter"],"sources":["/home/agustibr/.asdf/installs/ruby/3.0.2/lib/ruby/gems/3.0.0/bundler/gems/decidim-a25b5c74f78d/decidim-core/app/packs/src/decidim/results_listing.js"],"sourcesContent":["import { pushState, registerCallback } from \"src/decidim/history\"\n\nconst initializeListingOptionsMenu = (options) => {\n  $(document).on(\"click\", `${options.containerSelector} a`, (event) => {\n    const $target = $(event.target);\n\n    $target.parents(\".menu\").find(\"a:first\").text($target.text());\n\n    pushState($target.attr(\"href\"));\n  })\n\n  registerCallback(options.callbackName, () => {\n    const url = window.location.toString();\n    const match = url.match(/${options.urlParameter}=([^&]*)/);\n    const $targetMenu = $(`${options.containerSelector} .menu`);\n    let value = $targetMenu.find(\".menu a:first\").data(options.dataAttribute);\n\n    if (match) {\n      value = match[1];\n    }\n\n    const linkText = $targetMenu.find(`.menu a[data-${options.dataAttribute}=\"${value}\"]`).text();\n\n    $targetMenu.find(\"a:first\").text(linkText);\n  });\n};\n\n$(() => {\n  initializeListingOptionsMenu({\n    containerSelector: \".order-by\",\n    callbackName: \"orders\",\n    urlParameter: \"order\",\n    dataAttribute: \"order\"\n  });\n  initializeListingOptionsMenu({\n    containerSelector: \".results-per-page\",\n    callbackName: \"results_per_page\",\n    urlParameter: \"per_page\",\n    dataAttribute: \"per-page-option\"\n  });\n});\n"]},"metadata":{},"sourceType":"module"}