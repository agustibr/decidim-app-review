{"ast":null,"code":"$(function () {\n  var $allDiffViews = $(\".row.diff_view\");\n  $(document).on(\"click\", \".diff-view-by a.diff-view-mode\", function (event) {\n    event.preventDefault();\n    var $target = $(event.target);\n    var type = \"escaped\";\n    var $selected = $target.parents(\".is-dropdown-submenu-parent\").find(\"#diff-view-selected\");\n\n    if ($selected.text().trim() === $target.text().trim()) {\n      return;\n    }\n\n    $selected.text($target.text());\n\n    if ($target.attr(\"id\") === \"diff-view-unified\") {\n      if ($(\".row.diff_view_split_escaped\").hasClass(\"hide\")) {\n        type = \"unescaped\";\n      }\n\n      $allDiffViews.addClass(\"hide\");\n      $(\".row.diff_view_unified_\".concat(type)).removeClass(\"hide\");\n    }\n\n    if ($target.attr(\"id\") === \"diff-view-split\") {\n      if ($(\".row.diff_view_unified_escaped\").hasClass(\"hide\")) {\n        type = \"unescaped\";\n      }\n\n      $allDiffViews.addClass(\"hide\");\n      $(\".row.diff_view_split_\".concat(type)).removeClass(\"hide\");\n    }\n  });\n  $(document).on(\"click\", \".diff-view-by a.diff-view-html\", function (event) {\n    event.preventDefault();\n    var $target = $(event.target);\n    $target.parents(\".is-dropdown-submenu-parent\").find(\"#diff-view-html-selected\").text($target.text());\n    var $visibleDiffViewsId = $allDiffViews.not(\".hide\").first().attr(\"id\").split(\"_\").slice(1, -1).join(\"_\");\n    var $visibleDiffViews = $allDiffViews.filter(\"[id*=\".concat($visibleDiffViewsId, \"]\"));\n\n    if ($target.attr(\"id\") === \"diff-view-escaped-html\") {\n      $visibleDiffViews.filter(\"[id$=_unescaped]\").addClass(\"hide\");\n      $visibleDiffViews.filter(\"[id$=_escaped]\").removeClass(\"hide\");\n    }\n\n    if ($target.attr(\"id\") === \"diff-view-unescaped-html\") {\n      $visibleDiffViews.filter(\"[id$=_escaped]\").addClass(\"hide\");\n      $visibleDiffViews.filter(\"[id$=_unescaped]\").removeClass(\"hide\");\n    }\n  });\n});","map":{"version":3,"mappings":"AAAAA,CAAC,CAAC,YAAM;EACN,IAAMC,aAAa,GAAGD,CAAC,CAAC,gBAAD,CAAvB;EAEAA,CAAC,CAACE,QAAD,CAADF,CAAYG,EAAZH,CAAe,OAAfA,EAAwB,gCAAxBA,EAA0D,UAACI,KAAD,EAAW;IACnEA,KAAK,CAACC,cAAND;IACA,IAAME,OAAO,GAAGN,CAAC,CAACI,KAAK,CAACG,MAAP,CAAjB;IACA,IAAIC,IAAI,GAAG,SAAX;IACA,IAAMC,SAAS,GAAGH,OAAO,CAACI,OAARJ,CAAgB,6BAAhBA,EAA+CK,IAA/CL,CAAoD,qBAApDA,CAAlB;;IACA,IAAIG,SAAS,CAACG,IAAVH,GAAiBI,IAAjBJ,OAA4BH,OAAO,CAACM,IAARN,GAAeO,IAAfP,EAAhC,EAAuD;MACrD;IACD;;IAEDG,SAAS,CAACG,IAAVH,CAAeH,OAAO,CAACM,IAARN,EAAfG;;IAEA,IAAIH,OAAO,CAACQ,IAARR,CAAa,IAAbA,MAAuB,mBAA3B,EAAgD;MAC9C,IAAIN,CAAC,CAAC,8BAAD,CAADA,CAAkCe,QAAlCf,CAA2C,MAA3CA,CAAJ,EAAwD;QACtDQ,IAAI,GAAG,WAAPA;MACD;;MAEDP,aAAa,CAACe,QAAdf,CAAuB,MAAvBA;MACAD,CAAC,kCAA2BQ,IAA3B,EAADR,CAAoCiB,WAApCjB,CAAgD,MAAhDA;IACD;;IACD,IAAIM,OAAO,CAACQ,IAARR,CAAa,IAAbA,MAAuB,iBAA3B,EAA8C;MAC5C,IAAIN,CAAC,CAAC,gCAAD,CAADA,CAAoCe,QAApCf,CAA6C,MAA7CA,CAAJ,EAA0D;QACxDQ,IAAI,GAAG,WAAPA;MACD;;MAEDP,aAAa,CAACe,QAAdf,CAAuB,MAAvBA;MACAD,CAAC,gCAAyBQ,IAAzB,EAADR,CAAkCiB,WAAlCjB,CAA8C,MAA9CA;IACD;EA1BH;EA6BAA,CAAC,CAACE,QAAD,CAADF,CAAYG,EAAZH,CAAe,OAAfA,EAAwB,gCAAxBA,EAA0D,UAACI,KAAD,EAAW;IACnEA,KAAK,CAACC,cAAND;IACA,IAAME,OAAO,GAAGN,CAAC,CAACI,KAAK,CAACG,MAAP,CAAjB;IACAD,OAAO,CAACI,OAARJ,CAAgB,6BAAhBA,EAA+CK,IAA/CL,CAAoD,0BAApDA,EAAgFM,IAAhFN,CAAqFA,OAAO,CAACM,IAARN,EAArFA;IACA,IAAMY,mBAAmB,GAAGjB,aAAa,CAACkB,GAAdlB,CAAkB,OAAlBA,EAA2BmB,KAA3BnB,GAAmCa,IAAnCb,CAAwC,IAAxCA,EAA8CoB,KAA9CpB,CAAoD,GAApDA,EAAyDqB,KAAzDrB,CAA+D,CAA/DA,EAAkE,CAAC,CAAnEA,EAAsEsB,IAAtEtB,CAA2E,GAA3EA,CAA5B;IACA,IAAMuB,iBAAiB,GAAGvB,aAAa,CAACwB,MAAdxB,gBAA6BiB,mBAA7B,OAA1B;;IAEA,IAAIZ,OAAO,CAACQ,IAARR,CAAa,IAAbA,MAAuB,wBAA3B,EAAqD;MACnDkB,iBAAiB,CAACC,MAAlBD,CAAyB,kBAAzBA,EAA6CR,QAA7CQ,CAAsD,MAAtDA;MACAA,iBAAiB,CAACC,MAAlBD,CAAyB,gBAAzBA,EAA2CP,WAA3CO,CAAuD,MAAvDA;IACD;;IACD,IAAIlB,OAAO,CAACQ,IAARR,CAAa,IAAbA,MAAuB,0BAA3B,EAAuD;MACrDkB,iBAAiB,CAACC,MAAlBD,CAAyB,gBAAzBA,EAA2CR,QAA3CQ,CAAoD,MAApDA;MACAA,iBAAiB,CAACC,MAAlBD,CAAyB,kBAAzBA,EAA6CP,WAA7CO,CAAyD,MAAzDA;IACD;EAdH;AAhCD,EAADxB","names":["$","$allDiffViews","document","on","event","preventDefault","$target","target","type","$selected","parents","find","text","trim","attr","hasClass","addClass","removeClass","$visibleDiffViewsId","not","first","split","slice","join","$visibleDiffViews","filter"],"sources":["/home/agustibr/.asdf/installs/ruby/3.0.2/lib/ruby/gems/3.0.0/bundler/gems/decidim-a25b5c74f78d/decidim-core/app/packs/src/decidim/diff_mode_dropdown.js"],"sourcesContent":["$(() => {\n  const $allDiffViews = $(\".row.diff_view\");\n\n  $(document).on(\"click\", \".diff-view-by a.diff-view-mode\", (event) => {\n    event.preventDefault();\n    const $target = $(event.target)\n    let type = \"escaped\";\n    const $selected = $target.parents(\".is-dropdown-submenu-parent\").find(\"#diff-view-selected\");\n    if ($selected.text().trim() === $target.text().trim()) {\n      return;\n    }\n\n    $selected.text($target.text());\n\n    if ($target.attr(\"id\") === \"diff-view-unified\") {\n      if ($(\".row.diff_view_split_escaped\").hasClass(\"hide\")) {\n        type = \"unescaped\";\n      }\n\n      $allDiffViews.addClass(\"hide\");\n      $(`.row.diff_view_unified_${type}`).removeClass(\"hide\");\n    }\n    if ($target.attr(\"id\") === \"diff-view-split\") {\n      if ($(\".row.diff_view_unified_escaped\").hasClass(\"hide\")) {\n        type = \"unescaped\";\n      }\n\n      $allDiffViews.addClass(\"hide\");\n      $(`.row.diff_view_split_${type}`).removeClass(\"hide\");\n    }\n  })\n\n  $(document).on(\"click\", \".diff-view-by a.diff-view-html\", (event) => {\n    event.preventDefault();\n    const $target = $(event.target);\n    $target.parents(\".is-dropdown-submenu-parent\").find(\"#diff-view-html-selected\").text($target.text());\n    const $visibleDiffViewsId = $allDiffViews.not(\".hide\").first().attr(\"id\").split(\"_\").slice(1, -1).join(\"_\");\n    const $visibleDiffViews = $allDiffViews.filter(`[id*=${$visibleDiffViewsId}]`)\n\n    if ($target.attr(\"id\") === \"diff-view-escaped-html\") {\n      $visibleDiffViews.filter(\"[id$=_unescaped]\").addClass(\"hide\");\n      $visibleDiffViews.filter(\"[id$=_escaped]\").removeClass(\"hide\");\n    }\n    if ($target.attr(\"id\") === \"diff-view-unescaped-html\") {\n      $visibleDiffViews.filter(\"[id$=_escaped]\").addClass(\"hide\");\n      $visibleDiffViews.filter(\"[id$=_unescaped]\").removeClass(\"hide\");\n    }\n  })\n});\n"]},"metadata":{},"sourceType":"module"}