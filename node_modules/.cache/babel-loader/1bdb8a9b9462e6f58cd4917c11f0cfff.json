{"ast":null,"code":"function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\n\nvar BudgetRuleTogglerComponent = /*#__PURE__*/function () {\n  function BudgetRuleTogglerComponent() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, BudgetRuleTogglerComponent);\n\n    this.ruleCheckboxes = options.ruleCheckboxes;\n\n    this._runAll();\n  }\n\n  _createClass(BudgetRuleTogglerComponent, [{\n    key: \"_runAll\",\n    value: function _runAll() {\n      var _this = this;\n\n      this.ruleCheckboxes.each(function (_i, checkbox) {\n        _this._bindEvent(checkbox);\n\n        _this.run(checkbox);\n      });\n    }\n  }, {\n    key: \"_bindEvent\",\n    value: function _bindEvent(target) {\n      var _this2 = this;\n\n      $(target).on(\"change\", function (event) {\n        _this2.run(event.target);\n      });\n    }\n  }, {\n    key: \"run\",\n    value: function run(target) {\n      var _this3 = this;\n\n      this.toggleTextInput(target);\n\n      if ($(target).prop(\"checked\")) {\n        this.ruleCheckboxes.filter(function (_i, checkbox) {\n          return checkbox !== target;\n        }).prop(\"checked\", false).each(function (_i, checkbox) {\n          _this3.toggleTextInput(checkbox);\n        });\n      }\n    }\n  }, {\n    key: \"toggleTextInput\",\n    value: function toggleTextInput(target) {\n      var container = $(target).closest(\"div\");\n\n      if (container.length < 1) {\n        return;\n      }\n\n      var containerClassPrefix = container.attr(\"class\").replace(/^vote_rule_/, \"vote_\").replace(/_enabled_container$/, \"\");\n      var input = $(\"[class^=\\\"\".concat(containerClassPrefix, \"\\\"][class$=\\\"_container\\\"]\"));\n\n      if ($(target).prop(\"checked\")) {\n        input.slideDown();\n      } else {\n        input.slideUp();\n      }\n    }\n  }]);\n\n  return BudgetRuleTogglerComponent;\n}();\n\nexport { BudgetRuleTogglerComponent as default };","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;IAAqBA,0B;EACnB,sCAA0B;IAAA,IAAdC,OAAc,uEAAJ,EAAI;;IAAAC;;IACxB,KAAKC,cAAL,GAAsBF,OAAO,CAACE,cAA9B;;IACA,KAAKC,OAAL;EACD;;;;WAED,mBAAU;MAAA;;MACR,KAAKD,cAAL,CAAoBE,IAApB,CAAyB,UAACC,EAAD,EAAKC,QAAL,EAAkB;QACzCC,KAAI,CAACC,UAAL,CAAgBF,QAAhB;;QACAC,KAAI,CAACE,GAAL,CAASH,QAAT;MAFF;IAID;;;WAED,oBAAWI,MAAX,EAAmB;MAAA;;MACjBC,CAAC,CAACD,MAAD,CAADC,CAAUC,EAAVD,CAAa,QAAbA,EAAuB,UAACE,KAAD,EAAW;QAChCC,MAAI,CAACL,GAAL,CAASI,KAAK,CAACH,MAAf;MADF;IAGD;;;WAED,aAAIA,MAAJ,EAAY;MAAA;;MACV,KAAKK,eAAL,CAAqBL,MAArB;;MAEA,IAAIC,CAAC,CAACD,MAAD,CAADC,CAAUK,IAAVL,CAAe,SAAfA,CAAJ,EAA+B;QAC7B,KAAKT,cAAL,CAAoBe,MAApB,CACE,UAACZ,EAAD,EAAKC,QAAL,EAAkB;UAChB,OAAOA,QAAQ,KAAKI,MAApB;QAFJ,GAGKM,IAHL,CAGU,SAHV,EAGqB,KAHrB,EAG4BZ,IAH5B,CAIE,UAACC,EAAD,EAAKC,QAAL,EAAkB;UAChBY,MAAI,CAACH,eAAL,CAAqBT,QAArB;QALJ;MAOD;IACF;;;WAED,yBAAgBI,MAAhB,EAAwB;MACtB,IAAMS,SAAS,GAAGR,CAAC,CAACD,MAAD,CAADC,CAAUS,OAAVT,CAAkB,KAAlBA,CAAlB;;MACA,IAAIQ,SAAS,CAACE,MAAVF,GAAmB,CAAvB,EAA0B;QACxB;MACD;;MACD,IAAMG,oBAAoB,GAAGH,SAAS,CAACI,IAAVJ,CAAe,OAAfA,EAC3BK,OAD2BL,CACnB,aADmBA,EACJ,OADIA,EAE3BK,OAF2BL,CAEnB,qBAFmBA,EAEI,EAFJA,CAA7B;MAGA,IAAMM,KAAK,GAAGd,CAAC,qBAAaW,oBAAb,gCAAf;;MAEA,IAAIX,CAAC,CAACD,MAAD,CAADC,CAAUK,IAAVL,CAAe,SAAfA,CAAJ,EAA+B;QAC7Bc,KAAK,CAACC,SAAND;MADF,OAEO;QACLA,KAAK,CAACE,OAANF;MACD;IACF;;;;;;SAhDkB1B,0B","names":["BudgetRuleTogglerComponent","options","_classCallCheck","ruleCheckboxes","_runAll","each","_i","checkbox","_this","_bindEvent","run","target","$","on","event","_this2","toggleTextInput","prop","filter","_this3","container","closest","length","containerClassPrefix","attr","replace","input","slideDown","slideUp"],"sources":["/home/agustibr/.asdf/installs/ruby/3.0.2/lib/ruby/gems/3.0.0/bundler/gems/decidim-a25b5c74f78d/decidim-admin/app/packs/src/decidim/admin/budget_rule_toggler.component.js"],"sourcesContent":["export default class BudgetRuleTogglerComponent {\n  constructor(options = {}) {\n    this.ruleCheckboxes = options.ruleCheckboxes;\n    this._runAll();\n  }\n\n  _runAll() {\n    this.ruleCheckboxes.each((_i, checkbox) => {\n      this._bindEvent(checkbox);\n      this.run(checkbox);\n    });\n  }\n\n  _bindEvent(target) {\n    $(target).on(\"change\", (event) => {\n      this.run(event.target);\n    });\n  }\n\n  run(target) {\n    this.toggleTextInput(target);\n\n    if ($(target).prop(\"checked\")) {\n      this.ruleCheckboxes.filter(\n        (_i, checkbox) => {\n          return checkbox !== target;\n        }).prop(\"checked\", false).each(\n        (_i, checkbox) => {\n          this.toggleTextInput(checkbox);\n        });\n    }\n  }\n\n  toggleTextInput(target) {\n    const container = $(target).closest(\"div\");\n    if (container.length < 1) {\n      return;\n    }\n    const containerClassPrefix = container.attr(\"class\").\n      replace(/^vote_rule_/, \"vote_\").\n      replace(/_enabled_container$/, \"\");\n    const input = $(`[class^=\"${containerClassPrefix}\"][class$=\"_container\"]`);\n\n    if ($(target).prop(\"checked\")) {\n      input.slideDown();\n    } else {\n      input.slideUp();\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"module"}