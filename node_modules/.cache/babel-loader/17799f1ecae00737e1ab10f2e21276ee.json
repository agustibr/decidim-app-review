{"ast":null,"code":"import { imageCache, staticResourceCache, offlineFallback } from \"workbox-recipes\";\nimport { registerRoute } from \"workbox-routing\";\nimport { NetworkFirst, NetworkOnly } from \"workbox-strategies\";\nimport { CacheableResponsePlugin } from \"workbox-cacheable-response\";\nimport { ExpirationPlugin } from \"workbox-expiration\"; // https://developers.google.com/web/tools/workbox/guides/troubleshoot-and-debug#debugging_workbox\n\nself.__WB_DISABLE_DEV_LOGS = true;\n/**\n * This is a workaround to bypass a webpack compilation error\n *\n * The InjectManifest function requires the __WB_MANIFEST somewhere in this file,\n * however, we cannot add precacheAndRoute as the issue suggests,\n * as the other workbox-recipes won't work properly\n *\n * See more: https://github.com/GoogleChrome/workbox/issues/2519#issuecomment-634164566\n */\n// eslint-disable-next-line no-unused-vars\n\nvar dummy = self.__WB_MANIFEST; // avoid caching admin or users paths\n\nregisterRoute(function (_ref) {\n  var url = _ref.url;\n  return [\"/admin/\", \"/users/\"].some(function (path) {\n    return url.pathname.startsWith(path);\n  });\n}, new NetworkOnly()); // https://developers.google.com/web/tools/workbox/modules/workbox-recipes#pattern_3\n\nregisterRoute(function (_ref2) {\n  var request = _ref2.request;\n  return request.mode === \"navigate\";\n}, new NetworkFirst({\n  networkTimeoutSeconds: 3,\n  cacheName: \"pages\",\n  plugins: [new CacheableResponsePlugin({\n    statuses: [0, 200]\n  }), new ExpirationPlugin({\n    maxAgeSeconds: 60 * 60\n  })]\n})); // common recipes\n\nstaticResourceCache();\nimageCache();\nofflineFallback({\n  pageFallback: \"/offline\"\n});","map":{"version":3,"mappings":"AAAA,SACEA,UADF,EAEEC,mBAFF,EAGEC,eAHF,QAIO,iBAJP;AAKA,SAASC,aAAT,QAA8B,iBAA9B;AACA,SAASC,YAAT,EAAuBC,WAAvB,QAA0C,oBAA1C;AACA,SAASC,uBAAT,QAAwC,4BAAxC;AACA,SAASC,gBAAT,QAAiC,oBAAjC,C,CAGA;;AACAC,IAAI,CAACC,qBAALD,GAA6B,IAA7BA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,IAAME,KAAK,GAAGF,IAAI,CAACG,aAAnB,C,CAEA;;AACAR,aAAa,CACX;EAAA,IAAGS,GAAH,QAAGA,GAAH;EAAA,OAAa,CAAC,SAAD,EAAY,SAAZ,EAAuBC,IAAvB,CAA4B,UAACC,IAAD;IAAA,OAAUF,GAAG,CAACG,QAAJH,CAAaI,UAAbJ,CAAwBE,IAAxBF,CAAV;EAA5B,EAAb;AADW,GAEX,IAAIP,WAAJ,EAFW,CAAbF,C,CAKA;;AACAA,aAAa,CACX;EAAA,IAAGc,OAAH,SAAGA,OAAH;EAAA,OAAiBA,OAAO,CAACC,IAARD,KAAiB,UAAlC;AADW,GAEX,IAAIb,YAAJ,CAAiB;EACfe,qBAAqB,EAAE,CADR;EAEfC,SAAS,EAAE,OAFI;EAGfC,OAAO,EAAE,CACP,IAAIf,uBAAJ,CAA4B;IAC1BgB,QAAQ,EAAE,CAAC,CAAD,EAAI,GAAJ;EADgB,CAA5B,CADO,EAIP,IAAIf,gBAAJ,CAAqB;IACnBgB,aAAa,EAAE,KAAK;EADD,CAArB,CAJO;AAHM,CAAjB,CAFW,CAAbpB,C,CAgBA;;AACAF,mBAAmB;AAEnBD,UAAU;AAEVE,eAAe,CAAC;EAAEsB,YAAY,EAAE;AAAhB,CAAD,CAAftB","names":["imageCache","staticResourceCache","offlineFallback","registerRoute","NetworkFirst","NetworkOnly","CacheableResponsePlugin","ExpirationPlugin","self","__WB_DISABLE_DEV_LOGS","dummy","__WB_MANIFEST","url","some","path","pathname","startsWith","request","mode","networkTimeoutSeconds","cacheName","plugins","statuses","maxAgeSeconds","pageFallback"],"sources":["/home/agustibr/.asdf/installs/ruby/3.0.2/lib/ruby/gems/3.0.0/bundler/gems/decidim-a25b5c74f78d/decidim-core/app/packs/src/decidim/sw/sw.js"],"sourcesContent":["import {\n  imageCache,\n  staticResourceCache,\n  offlineFallback\n} from \"workbox-recipes\";\nimport { registerRoute } from \"workbox-routing\";\nimport { NetworkFirst, NetworkOnly } from \"workbox-strategies\";\nimport { CacheableResponsePlugin } from \"workbox-cacheable-response\";\nimport { ExpirationPlugin } from \"workbox-expiration\";\n\n\n// https://developers.google.com/web/tools/workbox/guides/troubleshoot-and-debug#debugging_workbox\nself.__WB_DISABLE_DEV_LOGS = true\n\n/**\n * This is a workaround to bypass a webpack compilation error\n *\n * The InjectManifest function requires the __WB_MANIFEST somewhere in this file,\n * however, we cannot add precacheAndRoute as the issue suggests,\n * as the other workbox-recipes won't work properly\n *\n * See more: https://github.com/GoogleChrome/workbox/issues/2519#issuecomment-634164566\n */\n// eslint-disable-next-line no-unused-vars\nconst dummy = self.__WB_MANIFEST;\n\n// avoid caching admin or users paths\nregisterRoute(\n  ({ url }) => [\"/admin/\", \"/users/\"].some((path) => url.pathname.startsWith(path)),\n  new NetworkOnly()\n);\n\n// https://developers.google.com/web/tools/workbox/modules/workbox-recipes#pattern_3\nregisterRoute(\n  ({ request }) => request.mode === \"navigate\",\n  new NetworkFirst({\n    networkTimeoutSeconds: 3,\n    cacheName: \"pages\",\n    plugins: [\n      new CacheableResponsePlugin({\n        statuses: [0, 200]\n      }),\n      new ExpirationPlugin({\n        maxAgeSeconds: 60 * 60\n      })\n    ]\n  }),\n);\n\n// common recipes\nstaticResourceCache();\n\nimageCache();\n\nofflineFallback({ pageFallback: \"/offline\" });\n"]},"metadata":{},"sourceType":"module"}