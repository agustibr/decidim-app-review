{"ast":null,"code":"function _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}\n/* eslint-disable */\n\n/* =========================================================\n * foundation-datepicker.js\n * Copyright 2015 Peter Beno, najlepsiwebdesigner@gmail.com, @benopeter\n * project website http://foundation-datepicker.peterbeno.com\n * ========================================================= */\n// This file is a modified version of the original file\n// See\n//  - https://github.com/decidim/decidim/pull/1207\n//  - https://github.com/decidim/decidim/pull/2512\n//  - https://github.com/decidim/decidim/pull/3515\n\n\n!function ($) {\n  function UTCDate() {\n    return new Date(Date.UTC.apply(Date, arguments));\n  }\n\n  function UTCToday() {\n    var today = new Date();\n    return UTCDate(today.getUTCFullYear(), today.getUTCMonth(), today.getUTCDate());\n  }\n\n  var Datepicker = function Datepicker(element, options) {\n    var that = this;\n    this.element = $(element);\n    this.autoShow = options.autoShow == undefined ? true : options.autoShow;\n    this.appendTo = options.appendTo || \"body\";\n    this.closeButton = options.closeButton;\n    this.language = options.language || this.element.data(\"date-language\") || \"en\";\n    this.language = this.language in dates ? this.language : this.language.split(\"-\")[0]; // Check if \"de-DE\" style date is available, if not language should fallback to 2 letter code eg \"de\"\n\n    this.language = this.language in dates ? this.language : \"en\";\n    this.isRTL = dates[this.language].rtl || false;\n    this.format = DPGlobal.parseFormat(options.format || this.element.data(\"date-format\") || dates[this.language].format || \"mm/dd/yyyy\");\n    this.formatText = options.format || this.element.data(\"date-format\") || dates[this.language].format || \"mm/dd/yyyy\";\n    this.isInline = false;\n    this.isInput = this.element.is(\"input\");\n    this.component = this.element.is(\".date\") ? this.element.find(\".prefix, .postfix\") : false;\n    this.hasInput = this.component && this.element.find(\"input\").length;\n    this.disableDblClickSelection = options.disableDblClickSelection;\n\n    this.onRender = options.onRender || function () {};\n\n    if (this.component && this.component.length === 0) {\n      this.component = false;\n    }\n\n    this.linkField = options.linkField || this.element.data(\"link-field\") || false;\n    this.linkFormat = DPGlobal.parseFormat(options.linkFormat || this.element.data(\"link-format\") || \"yyyy-mm-dd hh:ii:ss\");\n    this.minuteStep = options.minuteStep || this.element.data(\"minute-step\") || 5;\n    this.pickerPosition = options.pickerPosition || this.element.data(\"picker-position\") || \"bottom-right\";\n    this.initialDate = options.initialDate || null;\n    this.faCSSprefix = options.faCSSprefix || \"fa\";\n    this.leftArrow = options.leftArrow || \"<i class=\\\"\".concat(this.faCSSprefix, \" \").concat(this.faCSSprefix, \"-chevron-left fi-arrow-left\\\"/>\");\n    this.rightArrow = options.rightArrow || \"<i class=\\\"\".concat(this.faCSSprefix, \" \").concat(this.faCSSprefix, \"-chevron-right fi-arrow-right\\\"/>\");\n    this.closeIcon = options.closeIcon || \"<i class=\\\"\".concat(this.faCSSprefix, \" \").concat(this.faCSSprefix, \"-remove \").concat(this.faCSSprefix, \"-times fi-x\\\"></i>\");\n    this.minView = 0;\n\n    if (\"minView\" in options) {\n      this.minView = options.minView;\n    } else if (\"minView\" in this.element.data()) {\n      this.minView = this.element.data(\"min-view\");\n    }\n\n    this.minView = DPGlobal.convertViewMode(this.minView);\n    this.maxView = DPGlobal.modes.length - 1;\n\n    if (\"maxView\" in options) {\n      this.maxView = options.maxView;\n    } else if (\"maxView\" in this.element.data()) {\n      this.maxView = this.element.data(\"max-view\");\n    }\n\n    this.maxView = DPGlobal.convertViewMode(this.maxView);\n    this.startViewMode = \"month\";\n\n    if (\"startView\" in options) {\n      this.startViewMode = options.startView;\n    } else if (\"startView\" in this.element.data()) {\n      this.startViewMode = this.element.data(\"start-view\");\n    }\n\n    this.startViewMode = DPGlobal.convertViewMode(this.startViewMode);\n    this.viewMode = this.startViewMode;\n\n    if (!(\"minView\" in options) && !(\"maxView\" in options) && !this.element.data(\"min-view\") && !this.element.data(\"max-view\")) {\n      this.pickTime = false;\n\n      if (\"pickTime\" in options) {\n        this.pickTime = options.pickTime;\n      }\n\n      if (this.pickTime == true) {\n        this.minView = 0;\n        this.maxView = 4;\n      } else {\n        this.minView = 2;\n        this.maxView = 4;\n      }\n    }\n\n    this.forceParse = true;\n\n    if (\"forceParse\" in options) {\n      this.forceParse = options.forceParse;\n    } else if (\"dateForceParse\" in this.element.data()) {\n      this.forceParse = this.element.data(\"date-force-parse\");\n    }\n\n    this.picker = $(DPGlobal.template(this.leftArrow, this.rightArrow, this.closeIcon)).appendTo(this.isInline ? this.element : this.appendTo).on({\n      click: $.proxy(this.click, this),\n      mousedown: $.proxy(this.mousedown, this)\n    });\n\n    if (this.closeButton) {\n      this.picker.find(\"a.datepicker-close\").show();\n    } else {\n      this.picker.find(\"a.datepicker-close\").hide();\n    }\n\n    if (this.isInline) {\n      this.picker.addClass(\"datepicker-inline\");\n    } else {\n      this.picker.addClass(\"datepicker-dropdown dropdown-menu\");\n    }\n\n    if (this.isRTL) {\n      this.picker.addClass(\"datepicker-rtl\");\n      this.picker.find(\".date-switch\").each(function () {\n        $(this).parent().prepend($(this).siblings(\".next\"));\n        $(this).parent().append($(this).siblings(\".prev\"));\n      });\n      this.picker.find(\".prev, .next\").toggleClass(\"prev next\");\n    }\n\n    $(document).on(\"mousedown\", function (e) {\n      if (that.isInput && e.target === that.element[0]) {\n        return;\n      } // Clicked outside the datepicker, hide it\n\n\n      if ($(e.target).closest(\".datepicker.datepicker-inline, .datepicker.datepicker-dropdown\").length === 0) {\n        that.hide();\n      }\n    });\n    this.autoclose = true;\n\n    if (\"autoclose\" in options) {\n      this.autoclose = options.autoclose;\n    } else if (\"dateAutoclose\" in this.element.data()) {\n      this.autoclose = this.element.data(\"date-autoclose\");\n    }\n\n    this.keyboardNavigation = true;\n\n    if (\"keyboardNavigation\" in options) {\n      this.keyboardNavigation = options.keyboardNavigation;\n    } else if (\"dateKeyboardNavigation\" in this.element.data()) {\n      this.keyboardNavigation = this.element.data(\"date-keyboard-navigation\");\n    }\n\n    this.todayBtn = options.todayBtn || this.element.data(\"date-today-btn\") || false;\n    this.todayHighlight = options.todayHighlight || this.element.data(\"date-today-highlight\") || false;\n    this.calendarWeeks = false;\n\n    if (\"calendarWeeks\" in options) {\n      this.calendarWeeks = options.calendarWeeks;\n    } else if (\"dateCalendarWeeks\" in this.element.data()) {\n      this.calendarWeeks = this.element.data(\"date-calendar-weeks\");\n    }\n\n    if (this.calendarWeeks) {\n      this.picker.find(\"tfoot th.today\").attr(\"colspan\", function (i, val) {\n        return parseInt(val) + 1;\n      });\n    }\n\n    this.weekStart = (options.weekStart || this.element.data(\"date-weekstart\") || dates[this.language].weekStart || 0) % 7;\n    this.weekEnd = (this.weekStart + 6) % 7;\n    this.startDate = -Infinity;\n    this.endDate = Infinity;\n    this.daysOfWeekDisabled = [];\n    this.datesDisabled = [];\n    this.setStartDate(options.startDate || this.element.data(\"date-startdate\"));\n    this.setEndDate(options.endDate || this.element.data(\"date-enddate\"));\n    this.setDaysOfWeekDisabled(options.daysOfWeekDisabled || this.element.data(\"date-days-of-week-disabled\"));\n    this.setDatesDisabled(options.datesDisabled || this.element.data(\"dates-disabled\"));\n\n    if (this.initialDate != null) {\n      this.date = this.viewDate = DPGlobal.parseDate(this.initialDate, this.format, this.language);\n      this.setValue();\n    }\n\n    this.fillDow();\n    this.fillMonths();\n    this.update();\n    this.showMode();\n\n    if (this.isInline) {\n      this.show();\n    }\n\n    this._attachEvents();\n  };\n\n  Datepicker.prototype = {\n    constructor: Datepicker,\n    _events: [],\n    _attachEvents: function _attachEvents() {\n      this._detachEvents();\n\n      if (this.isInput) {\n        // single input\n        if (!this.keyboardNavigation) {\n          this._events = [[this.element, {\n            focus: this.autoShow ? $.proxy(this.show, this) : function () {}\n          }]];\n        } else {\n          this._events = [[this.element, {\n            focus: this.autoShow ? $.proxy(this.show, this) : function () {},\n            keyup: $.proxy(this.update, this),\n            keydown: $.proxy(this.keydown, this),\n            click: this.element.attr(\"readonly\") ? $.proxy(this.show, this) : function () {}\n          }]];\n        }\n      } else if (this.component && this.hasInput) {\n        // component: input + button\n        this._events = [// For components that are not readonly, allow keyboard nav\n        [this.element.find(\"input\"), {\n          focus: this.autoShow ? $.proxy(this.show, this) : function () {},\n          keyup: $.proxy(this.update, this),\n          keydown: $.proxy(this.keydown, this)\n        }], [this.component, {\n          click: $.proxy(this.show, this)\n        }]];\n      } else if (this.element.is(\"div\")) {\n        // inline datepicker\n        this.isInline = true;\n      } else {\n        this._events = [[this.element, {\n          click: $.proxy(this.show, this)\n        }]];\n      }\n\n      if (this.disableDblClickSelection) {\n        this._events[this._events.length] = [this.element, {\n          dblclick: function dblclick(e) {\n            e.preventDefault();\n            e.stopPropagation();\n            $(this).blur();\n          }\n        }];\n      }\n\n      for (var el, ev, i = 0; i < this._events.length; i++) {\n        el = this._events[i][0];\n        ev = this._events[i][1];\n        el.on(ev);\n      }\n    },\n    _detachEvents: function _detachEvents() {\n      for (var el, ev, i = 0; i < this._events.length; i++) {\n        el = this._events[i][0];\n        ev = this._events[i][1];\n        el.off(ev);\n      }\n\n      this._events = [];\n    },\n    show: function show(e) {\n      this.picker.show();\n      this.height = this.component ? this.component.outerHeight() : this.element.outerHeight();\n      this.update();\n      this.place();\n      $(window).on(\"resize\", $.proxy(this.place, this));\n\n      if (e) {\n        e.stopPropagation();\n        e.preventDefault();\n      }\n\n      this.element.trigger({\n        type: \"show\",\n        date: this.date\n      });\n    },\n    hide: function hide(e) {\n      if (this.isInline) {\n        return;\n      }\n\n      if (!this.picker.is(\":visible\")) {\n        return;\n      }\n\n      this.picker.hide();\n      $(window).off(\"resize\", this.place);\n      this.viewMode = this.startViewMode;\n      this.showMode();\n\n      if (!this.isInput) {\n        $(document).off(\"mousedown\", this.hide);\n      }\n\n      if (this.forceParse && (this.isInput && this.element.val() || this.hasInput && this.element.find(\"input\").val())) {\n        this.setValue();\n      }\n\n      this.element.trigger({\n        type: \"hide\",\n        date: this.date\n      });\n    },\n    remove: function remove() {\n      this._detachEvents();\n\n      this.picker.remove();\n      delete this.element.data().datepicker;\n    },\n    getDate: function getDate() {\n      var d = this.getUTCDate();\n      return new Date(d.getTime() + d.getTimezoneOffset() * 60000);\n    },\n    getUTCDate: function getUTCDate() {\n      return this.date;\n    },\n    setDate: function setDate(d) {\n      this.setUTCDate(new Date(d.getTime() - d.getTimezoneOffset() * 60000));\n    },\n    setUTCDate: function setUTCDate(d) {\n      this.date = d;\n      this.setValue();\n    },\n    setValue: function setValue() {\n      var formatted = this.getFormattedDate();\n\n      if (!this.isInput) {\n        if (this.component) {\n          this.element.find(\"input\").val(formatted);\n        }\n\n        this.element.data(\"date\", formatted);\n      } else {\n        this.element.val(formatted);\n      }\n    },\n    getFormattedDate: function getFormattedDate(format) {\n      if (format === undefined) {\n        format = this.format;\n      }\n\n      return DPGlobal.formatDate(this.date, format, this.language);\n    },\n    setStartDate: function setStartDate(startDate) {\n      this.startDate = startDate || -Infinity;\n\n      if (this.startDate !== -Infinity) {\n        this.startDate = DPGlobal.parseDate(this.startDate, this.format, this.language);\n      }\n\n      this.update();\n      this.updateNavArrows();\n    },\n    setEndDate: function setEndDate(endDate) {\n      this.endDate = endDate || Infinity;\n\n      if (this.endDate !== Infinity) {\n        this.endDate = DPGlobal.parseDate(this.endDate, this.format, this.language);\n      }\n\n      this.update();\n      this.updateNavArrows();\n    },\n    setDaysOfWeekDisabled: function setDaysOfWeekDisabled(daysOfWeekDisabled) {\n      this.daysOfWeekDisabled = daysOfWeekDisabled || [];\n\n      if (!$.isArray(this.daysOfWeekDisabled)) {\n        this.daysOfWeekDisabled = this.daysOfWeekDisabled.split(/,\\s*/);\n      }\n\n      this.daysOfWeekDisabled = $.map(this.daysOfWeekDisabled, function (d) {\n        return parseInt(d, 10);\n      });\n      this.update();\n      this.updateNavArrows();\n    },\n    setDatesDisabled: function setDatesDisabled(datesDisabled) {\n      this.datesDisabled = datesDisabled || [];\n\n      if (!$.isArray(this.datesDisabled)) {\n        this.datesDisabled = this.datesDisabled.split(/,\\s*/);\n      }\n\n      this.datesDisabled = $.map(this.datesDisabled, function (d) {\n        return DPGlobal.parseDate(d, this.format, this.language).valueOf();\n      });\n      this.update();\n      this.updateNavArrows();\n    },\n    place: function place() {\n      if (this.isInline) {\n        return;\n      }\n\n      var zIndexes = [];\n      this.element.parents().map(function () {\n        if ($(this).css(\"z-index\") != \"auto\") {\n          zIndexes.push(parseInt($(this).css(\"z-index\")));\n        }\n      });\n      var zIndex = zIndexes.sort(function (a, b) {\n        return a - b;\n      }).pop() + 10;\n      var textbox = this.component ? this.component : this.element;\n      var offset = textbox.offset();\n      var height = textbox.outerHeight() + parseInt(textbox.css(\"margin-top\"));\n      var width = textbox.outerWidth() + parseInt(textbox.css(\"margin-left\"));\n      var fullOffsetTop = offset.top + height;\n      var offsetLeft = offset.left;\n      this.picker.removeClass(\"datepicker-top datepicker-bottom\"); // can we show it on top?\n\n      var canShowTop = $(window).scrollTop() < offset.top - this.picker.outerHeight();\n      var canShowBottom = fullOffsetTop + this.picker.outerHeight() < $(window).scrollTop() + $(window).height(); // If the datepicker is going to be below the window, show it on top of the input if it fits\n\n      if (!canShowBottom && canShowTop) {\n        fullOffsetTop = offset.top - this.picker.outerHeight();\n        this.picker.addClass(\"datepicker-top\");\n      } else {\n        // Scroll up if we cannot show it on bottom or top (for mobile devices)\n        if (!canShowBottom) {\n          $(window).scrollTop(offset.top);\n        }\n\n        this.picker.addClass(\"datepicker-bottom\");\n      } // if the datepicker is going to go past the right side of the window, we want\n      // to set the right position so the datepicker lines up with the textbox\n\n\n      if (offset.left + this.picker.width() >= $(window).width()) {\n        offsetLeft = offset.left + width - this.picker.width();\n      }\n\n      this.picker.css({\n        top: fullOffsetTop,\n        left: offsetLeft,\n        zIndex: zIndex\n      });\n    },\n    update: function update() {\n      var date,\n          fromArgs = false;\n      var currentVal = this.isInput ? this.element.val() : this.element.data(\"date\") || this.element.find(\"input\").val();\n\n      if (arguments && arguments.length && (typeof arguments[0] === \"string\" || arguments[0] instanceof Date)) {\n        date = arguments[0];\n        fromArgs = true;\n      } else {\n        date = this.isInput ? this.element.val() : this.element.data(\"date\") || this.element.find(\"input\").val();\n      }\n\n      this.date = DPGlobal.parseDate(date, this.format, this.language);\n\n      if (fromArgs) {\n        this.setValue();\n      } else if (currentVal == \"\") {\n        this.element.trigger({\n          type: \"changeDate\",\n          date: null\n        });\n      }\n\n      if (this.date < this.startDate) {\n        this.viewDate = new Date(this.startDate.valueOf());\n      } else if (this.date > this.endDate) {\n        this.viewDate = new Date(this.endDate.valueOf());\n      } else {\n        this.viewDate = new Date(this.date.valueOf());\n      }\n\n      this.fill();\n    },\n    fillDow: function fillDow() {\n      var dowCnt = this.weekStart,\n          html = \"<tr>\";\n\n      if (this.calendarWeeks) {\n        var cell = '<th class=\"cw\">&nbsp;</th>';\n        html += cell;\n        this.picker.find(\".datepicker-days thead tr:first-child\").prepend(cell);\n      }\n\n      while (dowCnt < this.weekStart + 7) {\n        html += \"<th class=\\\"dow\\\">\".concat(dates[this.language].daysMin[dowCnt++ % 7], \"</th>\");\n      }\n\n      html += \"</tr>\";\n      this.picker.find(\".datepicker-days thead\").append(html);\n    },\n    fillMonths: function fillMonths() {\n      var html = \"\",\n          i = 0;\n\n      while (i < 12) {\n        html += \"<span class=\\\"month\\\">\".concat(dates[this.language].monthsShort[i++], \"</span>\");\n      }\n\n      this.picker.find(\".datepicker-months td\").html(html);\n    },\n    fill: function fill() {\n      if (this.date == null || this.viewDate == null) {\n        return;\n      }\n\n      var d = new Date(this.viewDate.valueOf()),\n          year = d.getUTCFullYear(),\n          month = d.getUTCMonth(),\n          dayMonth = d.getUTCDate(),\n          hours = d.getUTCHours(),\n          minutes = d.getUTCMinutes(),\n          startYear = this.startDate !== -Infinity ? this.startDate.getUTCFullYear() : -Infinity,\n          startMonth = this.startDate !== -Infinity ? this.startDate.getUTCMonth() : -Infinity,\n          endYear = this.endDate !== Infinity ? this.endDate.getUTCFullYear() : Infinity,\n          endMonth = this.endDate !== Infinity ? this.endDate.getUTCMonth() : Infinity,\n          currentDate = this.date && UTCDate(this.date.getUTCFullYear(), this.date.getUTCMonth(), this.date.getUTCDate()).valueOf(),\n          today = new Date(),\n          titleFormat = dates[this.language].titleFormat || dates.en.titleFormat; // this.picker.find('.datepicker-days thead th.date-switch')\n      //          .text(DPGlobal.formatDate(new UTCDate(year, month), titleFormat, this.language));\n\n      this.picker.find(\".datepicker-days thead th:eq(1)\").text(\"\".concat(dates[this.language].months[month], \" \").concat(year));\n      this.picker.find(\".datepicker-hours thead th:eq(1)\").text(\"\".concat(dayMonth, \" \").concat(dates[this.language].months[month], \" \").concat(year));\n      this.picker.find(\".datepicker-minutes thead th:eq(1)\").text(\"\".concat(dayMonth, \" \").concat(dates[this.language].months[month], \" \").concat(year));\n      this.picker.find(\"tfoot th.today\").text(dates[this.language].today).toggle(this.todayBtn !== false);\n      this.updateNavArrows();\n      this.fillMonths();\n      var prevMonth = UTCDate(year, month - 1, 28, 0, 0, 0, 0),\n          day = DPGlobal.getDaysInMonth(prevMonth.getUTCFullYear(), prevMonth.getUTCMonth());\n      prevMonth.setUTCDate(day);\n      prevMonth.setUTCDate(day - (prevMonth.getUTCDay() - this.weekStart + 7) % 7);\n      var nextMonth = new Date(prevMonth.valueOf());\n      nextMonth.setUTCDate(nextMonth.getUTCDate() + 42);\n      nextMonth = nextMonth.valueOf();\n      var html = [];\n      var clsName;\n\n      while (prevMonth.valueOf() < nextMonth) {\n        if (prevMonth.getUTCDay() == this.weekStart) {\n          html.push(\"<tr>\");\n\n          if (this.calendarWeeks) {\n            // adapted from https://github.com/timrwood/moment/blob/master/moment.js#L128\n            var a = new Date(prevMonth.getUTCFullYear(), prevMonth.getUTCMonth(), prevMonth.getUTCDate() - prevMonth.getDay() + 10 - (this.weekStart && this.weekStart % 7 < 5 && 7)),\n                b = new Date(a.getFullYear(), 0, 4),\n                calWeek = ~~((a - b) / 864e5 / 7 + 1.5);\n            html.push(\"<td class=\\\"cw\\\">\".concat(calWeek, \"</td>\"));\n          }\n        }\n\n        clsName = \" \".concat(this.onRender(prevMonth), \" \");\n\n        if (prevMonth.getUTCFullYear() < year || prevMonth.getUTCFullYear() == year && prevMonth.getUTCMonth() < month) {\n          clsName += \" old\";\n        } else if (prevMonth.getUTCFullYear() > year || prevMonth.getUTCFullYear() == year && prevMonth.getUTCMonth() > month) {\n          clsName += \" new\";\n        } // Compare internal UTC date with local today, not UTC today\n\n\n        if (this.todayHighlight && prevMonth.getUTCFullYear() == today.getFullYear() && prevMonth.getUTCMonth() == today.getMonth() && prevMonth.getUTCDate() == today.getDate()) {\n          clsName += \" today\";\n        }\n\n        if (currentDate && prevMonth.valueOf() == currentDate) {\n          clsName += \" active\";\n        }\n\n        if (prevMonth.valueOf() < this.startDate || prevMonth.valueOf() > this.endDate || $.inArray(prevMonth.getUTCDay(), this.daysOfWeekDisabled) !== -1 || $.inArray(prevMonth.valueOf(), this.datesDisabled) !== -1) {\n          clsName += \" disabled\";\n        }\n\n        html.push(\"<td class=\\\"day\".concat(clsName, \"\\\">\").concat(prevMonth.getUTCDate(), \"</td>\"));\n\n        if (prevMonth.getUTCDay() == this.weekEnd) {\n          html.push(\"</tr>\");\n        }\n\n        prevMonth.setUTCDate(prevMonth.getUTCDate() + 1);\n      }\n\n      this.picker.find(\".datepicker-days tbody\").empty().append(html.join(\"\"));\n      html = [];\n\n      for (var i = 0; i < 24; i++) {\n        var actual = UTCDate(year, month, dayMonth, i);\n        clsName = \"\"; // We want the previous hour for the startDate\n\n        if (actual.valueOf() + 3600000 < this.startDate || actual.valueOf() > this.endDate) {\n          clsName += \" disabled\";\n        } else if (hours == i) {\n          clsName += \" active\";\n        }\n\n        html.push(\"<span class=\\\"hour\".concat(clsName, \"\\\">\").concat(i, \":00</span>\"));\n      }\n\n      this.picker.find(\".datepicker-hours td\").html(html.join(\"\"));\n      html = [];\n\n      for (var i = 0; i < 60; i += this.minuteStep) {\n        var actual = UTCDate(year, month, dayMonth, hours, i);\n        clsName = \"\";\n\n        if (actual.valueOf() < this.startDate || actual.valueOf() > this.endDate) {\n          clsName += \" disabled\";\n        } else if (Math.floor(minutes / this.minuteStep) == Math.floor(i / this.minuteStep)) {\n          clsName += \" active\";\n        }\n\n        html.push(\"<span class=\\\"minute\".concat(clsName, \"\\\">\").concat(hours, \":\").concat(i < 10 ? \"0\".concat(i) : i, \"</span>\"));\n      }\n\n      this.picker.find(\".datepicker-minutes td\").html(html.join(\"\"));\n      var currentYear = this.date && this.date.getUTCFullYear();\n      var months = this.picker.find(\".datepicker-months\").find(\"th:eq(1)\").text(year).end().find(\"span\").removeClass(\"active\");\n\n      if (currentYear && currentYear == year) {\n        months.eq(this.date.getUTCMonth()).addClass(\"active\");\n      }\n\n      if (year < startYear || year > endYear) {\n        months.addClass(\"disabled\");\n      }\n\n      if (year == startYear) {\n        months.slice(0, startMonth).addClass(\"disabled\");\n      }\n\n      if (year == endYear) {\n        months.slice(endMonth + 1).addClass(\"disabled\");\n      }\n\n      html = \"\";\n      year = parseInt(year / 10, 10) * 10;\n      var yearCont = this.picker.find(\".datepicker-years\").find(\"th:eq(1)\").text(\"\".concat(year, \"-\").concat(year + 9)).end().find(\"td\");\n      year -= 1;\n\n      for (var i = -1; i < 11; i++) {\n        html += \"<span class=\\\"year\".concat(i == -1 || i == 10 ? \" old\" : \"\").concat(currentYear == year ? \" active\" : \"\").concat(year < startYear || year > endYear ? \" disabled\" : \"\", \"\\\">\").concat(year, \"</span>\");\n        year += 1;\n      }\n\n      yearCont.html(html);\n    },\n    updateNavArrows: function updateNavArrows() {\n      var d = new Date(this.viewDate),\n          year = d.getUTCFullYear(),\n          month = d.getUTCMonth(),\n          day = d.getUTCDate(),\n          hour = d.getUTCHours();\n\n      switch (this.viewMode) {\n        case 0:\n          if (this.startDate !== -Infinity && year <= this.startDate.getUTCFullYear() && month <= this.startDate.getUTCMonth() && day <= this.startDate.getUTCDate() && hour <= this.startDate.getUTCHours()) {\n            this.picker.find(\".prev\").css({\n              visibility: \"hidden\"\n            });\n          } else {\n            this.picker.find(\".prev\").css({\n              visibility: \"visible\"\n            });\n          }\n\n          if (this.endDate !== Infinity && year >= this.endDate.getUTCFullYear() && month >= this.endDate.getUTCMonth() && day >= this.endDate.getUTCDate() && hour >= this.endDate.getUTCHours()) {\n            this.picker.find(\".next\").css({\n              visibility: \"hidden\"\n            });\n          } else {\n            this.picker.find(\".next\").css({\n              visibility: \"visible\"\n            });\n          }\n\n          break;\n\n        case 1:\n          if (this.startDate !== -Infinity && year <= this.startDate.getUTCFullYear() && month <= this.startDate.getUTCMonth() && day <= this.startDate.getUTCDate()) {\n            this.picker.find(\".prev\").css({\n              visibility: \"hidden\"\n            });\n          } else {\n            this.picker.find(\".prev\").css({\n              visibility: \"visible\"\n            });\n          }\n\n          if (this.endDate !== Infinity && year >= this.endDate.getUTCFullYear() && month >= this.endDate.getUTCMonth() && day >= this.endDate.getUTCDate()) {\n            this.picker.find(\".next\").css({\n              visibility: \"hidden\"\n            });\n          } else {\n            this.picker.find(\".next\").css({\n              visibility: \"visible\"\n            });\n          }\n\n          break;\n\n        case 2:\n          if (this.startDate !== -Infinity && year <= this.startDate.getUTCFullYear() && month <= this.startDate.getUTCMonth()) {\n            this.picker.find(\".prev\").css({\n              visibility: \"hidden\"\n            });\n          } else {\n            this.picker.find(\".prev\").css({\n              visibility: \"visible\"\n            });\n          }\n\n          if (this.endDate !== Infinity && year >= this.endDate.getUTCFullYear() && month >= this.endDate.getUTCMonth()) {\n            this.picker.find(\".next\").css({\n              visibility: \"hidden\"\n            });\n          } else {\n            this.picker.find(\".next\").css({\n              visibility: \"visible\"\n            });\n          }\n\n          break;\n\n        case 3:\n        case 4:\n          if (this.startDate !== -Infinity && year <= this.startDate.getUTCFullYear()) {\n            this.picker.find(\".prev\").css({\n              visibility: \"hidden\"\n            });\n          } else {\n            this.picker.find(\".prev\").css({\n              visibility: \"visible\"\n            });\n          }\n\n          if (this.endDate !== Infinity && year >= this.endDate.getUTCFullYear()) {\n            this.picker.find(\".next\").css({\n              visibility: \"hidden\"\n            });\n          } else {\n            this.picker.find(\".next\").css({\n              visibility: \"visible\"\n            });\n          }\n\n          break;\n      }\n    },\n    click: function click(e) {\n      e.stopPropagation();\n      e.preventDefault();\n\n      if ($(e.target).hasClass(\"datepicker-close\") || $(e.target).parent().hasClass(\"datepicker-close\")) {\n        this.hide();\n      }\n\n      var target = $(e.target).closest(\"span, td, th\");\n\n      if (target.length == 1) {\n        if (target.is(\".disabled\")) {\n          this.element.trigger({\n            type: \"outOfRange\",\n            date: this.viewDate,\n            startDate: this.startDate,\n            endDate: this.endDate\n          });\n          return;\n        }\n\n        switch (target[0].nodeName.toLowerCase()) {\n          case \"th\":\n            switch (target[0].className) {\n              case \"date-switch\":\n                this.showMode(1);\n                break;\n\n              case \"prev\":\n              case \"next\":\n                var dir = DPGlobal.modes[this.viewMode].navStep * (target[0].className == \"prev\" ? -1 : 1);\n\n                switch (this.viewMode) {\n                  case 0:\n                    this.viewDate = this.moveHour(this.viewDate, dir);\n                    break;\n\n                  case 1:\n                    this.viewDate = this.moveDate(this.viewDate, dir);\n                    break;\n\n                  case 2:\n                    this.viewDate = this.moveMonth(this.viewDate, dir);\n                    break;\n\n                  case 3:\n                  case 4:\n                    this.viewDate = this.moveYear(this.viewDate, dir);\n                    break;\n                }\n\n                this.fill();\n                break;\n\n              case \"today\":\n                var date = new Date();\n                date = UTCDate(date.getFullYear(), date.getMonth(), date.getDate(), date.getHours(), date.getMinutes(), date.getSeconds());\n                this.viewMode = this.startViewMode;\n                this.showMode(0);\n\n                this._setDate(date);\n\n                break;\n            }\n\n            break;\n\n          case \"span\":\n            if (!target.is(\".disabled\")) {\n              if (target.is(\".month\")) {\n                if (this.minView === 3) {\n                  var month = target.parent().find(\"span\").index(target) || 0;\n                  var year = this.viewDate.getUTCFullYear(),\n                      day = 1,\n                      hours = this.viewDate.getUTCHours(),\n                      minutes = this.viewDate.getUTCMinutes(),\n                      seconds = this.viewDate.getUTCSeconds();\n\n                  this._setDate(UTCDate(year, month, day, hours, minutes, seconds, 0));\n                } else {\n                  this.viewDate.setUTCDate(1);\n                  var month = target.parent().find(\"span\").index(target);\n                  this.viewDate.setUTCMonth(month);\n                  this.element.trigger({\n                    type: \"changeMonth\",\n                    date: this.viewDate\n                  });\n                }\n              } else if (target.is(\".year\")) {\n                if (this.minView === 4) {\n                  var year = parseInt(target.text(), 10) || 0;\n                  var month = 0,\n                      day = 1,\n                      hours = this.viewDate.getUTCHours(),\n                      minutes = this.viewDate.getUTCMinutes(),\n                      seconds = this.viewDate.getUTCSeconds();\n\n                  this._setDate(UTCDate(year, month, day, hours, minutes, seconds, 0));\n                } else {\n                  this.viewDate.setUTCDate(1);\n                  var year = parseInt(target.text(), 10) || 0;\n                  this.viewDate.setUTCFullYear(year);\n                  this.element.trigger({\n                    type: \"changeYear\",\n                    date: this.viewDate\n                  });\n                }\n              } else if (target.is(\".hour\")) {\n                var hours = parseInt(target.text(), 10) || 0;\n                var year = this.viewDate.getUTCFullYear(),\n                    month = this.viewDate.getUTCMonth(),\n                    day = this.viewDate.getUTCDate(),\n                    minutes = this.viewDate.getUTCMinutes(),\n                    seconds = this.viewDate.getUTCSeconds();\n\n                this._setDate(UTCDate(year, month, day, hours, minutes, seconds, 0));\n              } else if (target.is(\".minute\")) {\n                var minutes = parseInt(target.text().substr(target.text().indexOf(\":\") + 1), 10) || 0;\n                var year = this.viewDate.getUTCFullYear(),\n                    month = this.viewDate.getUTCMonth(),\n                    day = this.viewDate.getUTCDate(),\n                    hours = this.viewDate.getUTCHours(),\n                    seconds = this.viewDate.getUTCSeconds();\n\n                this._setDate(UTCDate(year, month, day, hours, minutes, seconds, 0));\n              }\n\n              if (this.viewMode != 0) {\n                var oldViewMode = this.viewMode;\n                this.showMode(-1);\n                this.fill();\n\n                if (oldViewMode == this.viewMode && this.autoclose) {\n                  this.hide();\n                }\n              } else {\n                this.fill();\n\n                if (this.autoclose) {\n                  this.hide();\n                }\n              }\n            }\n\n            break;\n\n          case \"td\":\n            if (target.is(\".day\") && !target.is(\".disabled\")) {\n              var day = parseInt(target.text(), 10) || 1;\n              var year = this.viewDate.getUTCFullYear(),\n                  month = this.viewDate.getUTCMonth(),\n                  hours = this.viewDate.getUTCHours(),\n                  minutes = this.viewDate.getUTCMinutes(),\n                  seconds = this.viewDate.getUTCSeconds();\n\n              if (target.is(\".old\")) {\n                if (month === 0) {\n                  month = 11;\n                  year -= 1;\n                } else {\n                  month -= 1;\n                }\n              } else if (target.is(\".new\")) {\n                if (month == 11) {\n                  month = 0;\n                  year += 1;\n                } else {\n                  month += 1;\n                }\n              }\n\n              this._setDate(UTCDate(year, month, day, hours, minutes, seconds, 0));\n            }\n\n            var oldViewMode = this.viewMode;\n            this.showMode(-1);\n            this.fill();\n\n            if (oldViewMode == this.viewMode && this.autoclose) {\n              this.hide();\n            }\n\n            break;\n        }\n      }\n    },\n    _setDate: function _setDate(date, which) {\n      if (!which || which == \"date\") {\n        this.date = date;\n      }\n\n      if (!which || which == \"view\") {\n        this.viewDate = date;\n      }\n\n      this.fill();\n      this.setValue();\n      this.element.trigger({\n        type: \"changeDate\",\n        date: this.date\n      });\n      var element;\n\n      if (this.isInput) {\n        element = this.element;\n      } else if (this.component) {\n        element = this.element.find(\"input\");\n      }\n\n      if (element) {\n        element.change();\n\n        if (this.autoclose && (!which || which == \"date\")) {// this.hide();\n        }\n      }\n    },\n    moveHour: function moveHour(date, dir) {\n      if (!dir) {\n        return date;\n      }\n\n      var new_date = new Date(date.valueOf());\n      dir = dir > 0 ? 1 : -1;\n      new_date.setUTCHours(new_date.getUTCHours() + dir);\n      return new_date;\n    },\n    moveDate: function moveDate(date, dir) {\n      if (!dir) {\n        return date;\n      }\n\n      var new_date = new Date(date.valueOf());\n      dir = dir > 0 ? 1 : -1;\n      new_date.setUTCDate(new_date.getUTCDate() + dir);\n      return new_date;\n    },\n    moveMonth: function moveMonth(date, dir) {\n      if (!dir) {\n        return date;\n      }\n\n      var new_date = new Date(date.valueOf()),\n          day = new_date.getUTCDate(),\n          month = new_date.getUTCMonth(),\n          mag = Math.abs(dir),\n          new_month,\n          test;\n      dir = dir > 0 ? 1 : -1;\n\n      if (mag == 1) {\n        test = dir == -1 // If going back one month, make sure month is not current month\n        // (eg, Mar 31 -> Feb 31 == Feb 28, not Mar 02)\n        ? function () {\n          return new_date.getUTCMonth() == month;\n        } // If going forward one month, make sure month is as expected\n        // (eg, Jan 31 -> Feb 31 == Feb 28, not Mar 02)\n        : function () {\n          return new_date.getUTCMonth() != new_month;\n        };\n        new_month = month + dir;\n        new_date.setUTCMonth(new_month); // Dec -> Jan (12) or Jan -> Dec (-1) -- limit expected date to 0-11\n\n        if (new_month < 0 || new_month > 11) {\n          new_month = (new_month + 12) % 12;\n        }\n      } else {\n        // For magnitudes >1, move one month at a time...\n        for (var i = 0; i < mag; i++) // ...which might decrease the day (eg, Jan 31 to Feb 28, etc)...\n        {\n          new_date = this.moveMonth(new_date, dir);\n        } // ...then reset the day, keeping it in the new month\n\n\n        new_month = new_date.getUTCMonth();\n        new_date.setUTCDate(day);\n\n        test = function test() {\n          return new_month != new_date.getUTCMonth();\n        };\n      } // Common date-resetting loop -- if date is beyond end of month, make it\n      // end of month\n\n\n      while (test()) {\n        new_date.setUTCDate(--day);\n        new_date.setUTCMonth(new_month);\n      }\n\n      return new_date;\n    },\n    moveYear: function moveYear(date, dir) {\n      return this.moveMonth(date, dir * 12);\n    },\n    dateWithinRange: function dateWithinRange(date) {\n      return date >= this.startDate && date <= this.endDate;\n    },\n    keydown: function keydown(e) {\n      if (!this.keyboardNavigation) {\n        return true;\n      }\n\n      if (this.picker.is(\":not(:visible)\")) {\n        if (e.keyCode == 27) // allow escape to hide and re-show picker\n          {\n            this.show();\n          }\n\n        return;\n      }\n\n      var dateChanged = false,\n          day,\n          dir,\n          month,\n          newDate,\n          newViewDate;\n\n      switch (e.keyCode) {\n        case 27:\n          // escape\n          this.hide();\n          e.preventDefault();\n          break;\n\n        case 37: // left\n\n        case 39:\n          // right\n          if (!this.keyboardNavigation) {\n            break;\n          }\n\n          dir = e.keyCode == 37 ? -1 : 1;\n\n          if (e.ctrlKey) {\n            newDate = this.moveYear(this.date, dir);\n            newViewDate = this.moveYear(this.viewDate, dir);\n          } else if (e.shiftKey) {\n            newDate = this.moveMonth(this.date, dir);\n            newViewDate = this.moveMonth(this.viewDate, dir);\n          } else {\n            newDate = new Date(this.date.valueOf());\n            newDate.setUTCDate(this.date.getUTCDate() + dir);\n            newViewDate = new Date(this.viewDate.valueOf());\n            newViewDate.setUTCDate(this.viewDate.getUTCDate() + dir);\n          }\n\n          if (this.dateWithinRange(newDate)) {\n            this.date = newDate;\n            this.viewDate = newViewDate;\n            this.setValue();\n            this.update();\n            e.preventDefault();\n            dateChanged = true;\n          }\n\n          break;\n\n        case 38: // up\n\n        case 40:\n          // down\n          if (!this.keyboardNavigation) {\n            break;\n          }\n\n          dir = e.keyCode == 38 ? -1 : 1;\n\n          if (e.ctrlKey) {\n            newDate = this.moveYear(this.date, dir);\n            newViewDate = this.moveYear(this.viewDate, dir);\n          } else if (e.shiftKey) {\n            newDate = this.moveMonth(this.date, dir);\n            newViewDate = this.moveMonth(this.viewDate, dir);\n          } else {\n            newDate = new Date(this.date.valueOf());\n            newDate.setUTCDate(this.date.getUTCDate() + dir * 7);\n            newViewDate = new Date(this.viewDate.valueOf());\n            newViewDate.setUTCDate(this.viewDate.getUTCDate() + dir * 7);\n          }\n\n          if (this.dateWithinRange(newDate)) {\n            this.date = newDate;\n            this.viewDate = newViewDate;\n            this.setValue();\n            this.update();\n            e.preventDefault();\n            dateChanged = true;\n          }\n\n          break;\n\n        case 13:\n          // enter\n          this.hide();\n          e.preventDefault();\n          break;\n\n        case 9:\n          // tab\n          this.hide();\n          break;\n      }\n\n      if (dateChanged) {\n        this.element.trigger({\n          type: \"changeDate\",\n          date: this.date\n        });\n        var element;\n\n        if (this.isInput) {\n          element = this.element;\n        } else if (this.component) {\n          element = this.element.find(\"input\");\n        }\n\n        if (element) {\n          element.change();\n        }\n      }\n    },\n    showMode: function showMode(dir) {\n      if (dir) {\n        var newViewMode = Math.max(0, Math.min(DPGlobal.modes.length - 1, this.viewMode + dir));\n\n        if (newViewMode >= this.minView && newViewMode <= this.maxView) {\n          this.viewMode = newViewMode;\n        }\n      }\n      /*\n                vitalets: fixing bug of very special conditions:\n                jquery 1.7.1 + webkit + show inline datepicker in bootstrap popover.\n                Method show() does not set display css correctly and datepicker is not shown.\n                Changed to .css('display', 'block') solve the problem.\n                See https://github.com/vitalets/x-editable/issues/37\n                 In jquery 1.7.2+ everything works fine.\n            */\n      // this.picker.find('>div').hide().filter('.datepicker-'+DPGlobal.modes[this.viewMode].clsName).show();\n\n\n      this.picker.find(\">div\").hide().filter(\".datepicker-\".concat(DPGlobal.modes[this.viewMode].clsName)).css(\"display\", \"block\");\n      this.updateNavArrows();\n    },\n    changeViewDate: function changeViewDate(date) {\n      this.date = date;\n      this.viewDate = date;\n      this.fill();\n    },\n    reset: function reset(e) {\n      this._setDate(null, \"date\");\n    }\n  };\n\n  $.fn.fdatepicker = function (option) {\n    var args = Array.apply(void 0, arguments);\n    args.shift();\n    return this.each(function () {\n      var $this = $(this),\n          data = $this.data(\"datepicker\"),\n          options = _typeof(option) === \"object\" && option;\n\n      if (!data) {\n        $this.data(\"datepicker\", data = new Datepicker(this, $.extend({}, $.fn.fdatepicker.defaults, options)));\n      }\n\n      if (typeof option === \"string\" && typeof data[option] === \"function\") {\n        var _data;\n\n        (_data = data)[option].apply(_data, _toConsumableArray(args));\n      }\n    });\n  };\n\n  $.fn.fdatepicker.defaults = {\n    onRender: function onRender(date) {\n      return \"\";\n    }\n  };\n  $.fn.fdatepicker.Constructor = Datepicker;\n  var dates = $.fn.fdatepicker.dates = {\n    \"en\": {\n      days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\", \"Sunday\"],\n      daysShort: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\", \"Sun\"],\n      daysMin: [\"Su\", \"Mo\", \"Tu\", \"We\", \"Th\", \"Fr\", \"Sa\", \"Su\"],\n      months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n      monthsShort: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"],\n      today: \"Today\",\n      titleFormat: \"MM yyyy\"\n    }\n  };\n  var DPGlobal = {\n    modes: [{\n      clsName: \"minutes\",\n      navFnc: \"Hours\",\n      navStep: 1\n    }, {\n      clsName: \"hours\",\n      navFnc: \"Date\",\n      navStep: 1\n    }, {\n      clsName: \"days\",\n      navFnc: \"Month\",\n      navStep: 1\n    }, {\n      clsName: \"months\",\n      navFnc: \"FullYear\",\n      navStep: 1\n    }, {\n      clsName: \"years\",\n      navFnc: \"FullYear\",\n      navStep: 10\n    }],\n    isLeapYear: function isLeapYear(year) {\n      return year % 4 === 0 && year % 100 !== 0 || year % 400 === 0;\n    },\n    getDaysInMonth: function getDaysInMonth(year, month) {\n      return [31, DPGlobal.isLeapYear(year) ? 29 : 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][month];\n    },\n    validParts: /hh?|ii?|ss?|dd?|mm?|MM?|yy(?:yy)?/g,\n    nonpunctuation: /[^ -\\/:-@\\[\\u3400-\\u9fff-`{-~\\t\\n\\r]+/g,\n    parseFormat: function parseFormat(format) {\n      // IE treats \\0 as a string end in inputs (truncating the value),\n      // so it's a bad format delimiter, anyway\n      var separators = format.replace(this.validParts, \"\\0\").split(\"\\0\"),\n          parts = format.match(this.validParts);\n\n      if (!separators || !separators.length || !parts || parts.length === 0) {\n        throw new Error(\"Invalid date format.\");\n      }\n\n      this.formatText = format;\n      return {\n        separators: separators,\n        parts: parts\n      };\n    },\n    parseDate: function parseDate(date, format, language) {\n      if (date instanceof Date) {\n        return new Date(date.valueOf() - date.getTimezoneOffset() * 60000);\n      }\n\n      if (/^\\d{4}\\-\\d{1,2}\\-\\d{1,2}$/.test(date)) {\n        format = this.parseFormat(\"yyyy-mm-dd\");\n      }\n\n      if (/^\\d{4}\\-\\d{1,2}\\-\\d{1,2}[T ]\\d{1,2}\\:\\d{1,2}$/.test(date)) {\n        format = this.parseFormat(\"yyyy-mm-dd hh:ii\");\n      }\n\n      if (/^\\d{4}\\-\\d{1,2}\\-\\d{1,2}[T ]\\d{1,2}\\:\\d{1,2}\\:\\d{1,2}[Z]{0,1}$/.test(date)) {\n        format = this.parseFormat(\"yyyy-mm-dd hh:ii:ss\");\n      }\n\n      if (/^[-+]\\d+[dmwy]([\\s,]+[-+]\\d+[dmwy])*$/.test(date)) {\n        var part_re = /([-+]\\d+)([dmwy])/,\n            parts = date.match(/([-+]\\d+)([dmwy])/g),\n            part,\n            dir;\n        date = new Date();\n\n        for (var i = 0; i < parts.length; i++) {\n          part = part_re.exec(parts[i]);\n          dir = parseInt(part[1]);\n\n          switch (part[2]) {\n            case \"d\":\n              date.setUTCDate(date.getUTCDate() + dir);\n              break;\n\n            case \"m\":\n              date = Datetimepicker.prototype.moveMonth.call(Datetimepicker.prototype, date, dir);\n              break;\n\n            case \"w\":\n              date.setUTCDate(date.getUTCDate() + dir * 7);\n              break;\n\n            case \"y\":\n              date = Datetimepicker.prototype.moveYear.call(Datetimepicker.prototype, date, dir);\n              break;\n          }\n        }\n\n        return UTCDate(date.getUTCFullYear(), date.getUTCMonth(), date.getUTCDate(), date.getUTCHours(), date.getUTCMinutes(), date.getUTCSeconds());\n      }\n\n      var parts = date && date.match(this.nonpunctuation) || [],\n          date = new Date(),\n          parsed = {},\n          setters_order = [\"hh\", \"h\", \"ii\", \"i\", \"ss\", \"s\", \"yyyy\", \"yy\", \"M\", \"MM\", \"m\", \"mm\", \"d\", \"dd\"],\n          setters_map = {\n        hh: function hh(d, v) {\n          return d.setUTCHours(v);\n        },\n        h: function h(d, v) {\n          return d.setUTCHours(v);\n        },\n        ii: function ii(d, v) {\n          return d.setUTCMinutes(v);\n        },\n        i: function i(d, v) {\n          return d.setUTCMinutes(v);\n        },\n        ss: function ss(d, v) {\n          return d.setUTCSeconds(v);\n        },\n        s: function s(d, v) {\n          return d.setUTCSeconds(v);\n        },\n        yyyy: function yyyy(d, v) {\n          return d.setUTCFullYear(v);\n        },\n        yy: function yy(d, v) {\n          return d.setUTCFullYear(2000 + v);\n        },\n        m: function m(d, v) {\n          v -= 1;\n\n          while (v < 0) {\n            v += 12;\n          }\n\n          v %= 12;\n          d.setUTCMonth(v);\n\n          while (d.getUTCMonth() != v) {\n            d.setUTCDate(d.getUTCDate() - 1);\n          }\n\n          return d;\n        },\n        d: function d(_d, v) {\n          return _d.setUTCDate(v);\n        }\n      },\n          val,\n          filtered,\n          part;\n      setters_map.M = setters_map.MM = setters_map.mm = setters_map.m;\n      setters_map.dd = setters_map.d;\n      date = UTCDate(date.getFullYear(), date.getMonth(), date.getDate(), 0, 0, 0); // date.getHours(), date.getMinutes(), date.getSeconds());\n\n      if (parts.length == format.parts.length) {\n        for (var i = 0, cnt = format.parts.length; i < cnt; i++) {\n          val = parseInt(parts[i], 10);\n          part = format.parts[i];\n\n          if (isNaN(val)) {\n            switch (part) {\n              case \"MM\":\n                filtered = $(dates[language].months).filter(function () {\n                  var m = this.slice(0, parts[i].length),\n                      p = parts[i].slice(0, m.length);\n                  return m == p;\n                });\n                val = $.inArray(filtered[0], dates[language].months) + 1;\n                break;\n\n              case \"M\":\n                filtered = $(dates[language].monthsShort).filter(function () {\n                  var m = this.slice(0, parts[i].length),\n                      p = parts[i].slice(0, m.length);\n                  return m == p;\n                });\n                val = $.inArray(filtered[0], dates[language].monthsShort) + 1;\n                break;\n            }\n          }\n\n          parsed[part] = val;\n        }\n\n        for (var i = 0, s; i < setters_order.length; i++) {\n          s = setters_order[i];\n\n          if (s in parsed && !isNaN(parsed[s])) {\n            setters_map[s](date, parsed[s]);\n          }\n        }\n      }\n\n      return date;\n    },\n    formatDate: function formatDate(date, format, language) {\n      if (date == null) {\n        return \"\";\n      }\n\n      var val = {\n        h: date.getUTCHours(),\n        i: date.getUTCMinutes(),\n        s: date.getUTCSeconds(),\n        d: date.getUTCDate(),\n        m: date.getUTCMonth() + 1,\n        M: dates[language].monthsShort[date.getUTCMonth()],\n        MM: dates[language].months[date.getUTCMonth()],\n        yy: date.getUTCFullYear().toString().substring(2),\n        yyyy: date.getUTCFullYear()\n      };\n      val.hh = (val.h < 10 ? \"0\" : \"\") + val.h;\n      val.ii = (val.i < 10 ? \"0\" : \"\") + val.i;\n      val.ss = (val.s < 10 ? \"0\" : \"\") + val.s;\n      val.dd = (val.d < 10 ? \"0\" : \"\") + val.d;\n      val.mm = (val.m < 10 ? \"0\" : \"\") + val.m;\n      var date = [],\n          seps = $.extend([], format.separators);\n\n      for (var i = 0, cnt = format.parts.length; i < cnt; i++) {\n        if (seps.length) {\n          date.push(seps.shift());\n        }\n\n        date.push(val[format.parts[i]]);\n      }\n\n      return date.join(\"\");\n    },\n    convertViewMode: function convertViewMode(viewMode) {\n      switch (viewMode) {\n        case 4:\n        case \"decade\":\n          viewMode = 4;\n          break;\n\n        case 3:\n        case \"year\":\n          viewMode = 3;\n          break;\n\n        case 2:\n        case \"month\":\n          viewMode = 2;\n          break;\n\n        case 1:\n        case \"day\":\n          viewMode = 1;\n          break;\n\n        case 0:\n        case \"hour\":\n          viewMode = 0;\n          break;\n      }\n\n      return viewMode;\n    },\n    headTemplate: function headTemplate(leftArrow, rightArrow) {\n      return \"\".concat(\"<thead>\" + \"<tr>\" + '<th class=\"prev\">').concat(leftArrow, \"</th>\") + \"<th colspan=\\\"5\\\" class=\\\"date-switch\\\"></th>\" + \"<th class=\\\"next\\\">\".concat(rightArrow, \"</th>\") + \"</tr>\" + \"</thead>\";\n    },\n    contTemplate: '<tbody><tr><td colspan=\"7\"></td></tr></tbody>',\n    footTemplate: '<tfoot><tr><th colspan=\"7\" class=\"today\"></th></tr></tfoot>'\n  };\n\n  DPGlobal.template = function (leftArrow, rightArrow, closeIcon) {\n    return \"\".concat('<div class=\"datepicker\">' + '<div class=\"datepicker-minutes\">' + '<table class=\" table-condensed\">').concat(DPGlobal.headTemplate(leftArrow, rightArrow)).concat(DPGlobal.contTemplate).concat(DPGlobal.footTemplate, \"</table>\") + \"</div>\" + \"<div class=\\\"datepicker-hours\\\">\" + \"<table class=\\\" table-condensed\\\">\".concat(DPGlobal.headTemplate(leftArrow, rightArrow)).concat(DPGlobal.contTemplate).concat(DPGlobal.footTemplate, \"</table>\") + \"</div>\" + \"<div class=\\\"datepicker-days\\\">\" + \"<table class=\\\" table-condensed\\\">\".concat(DPGlobal.headTemplate(leftArrow, rightArrow), \"<tbody></tbody>\").concat(DPGlobal.footTemplate, \"</table>\") + \"</div>\" + \"<div class=\\\"datepicker-months\\\">\" + \"<table class=\\\"table-condensed\\\">\".concat(DPGlobal.headTemplate(leftArrow, rightArrow)).concat(DPGlobal.contTemplate).concat(DPGlobal.footTemplate, \"</table>\") + \"</div>\" + \"<div class=\\\"datepicker-years\\\">\" + \"<table class=\\\"table-condensed\\\">\".concat(DPGlobal.headTemplate(leftArrow, rightArrow)).concat(DPGlobal.contTemplate).concat(DPGlobal.footTemplate, \"</table>\") + \"</div>\" + \"<a class=\\\"button datepicker-close tiny alert right\\\" style=\\\"width:auto;\\\">\".concat(closeIcon, \"</a>\") + \"</div>\";\n  };\n\n  $.fn.fdatepicker.DPGlobal = DPGlobal;\n}(window.jQuery);","map":{"version":3,"mappings":"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","names":["$","UTCDate","Date","UTC","arguments","UTCToday","today","getUTCFullYear","getUTCMonth","getUTCDate","Datepicker","element","options","that","autoShow","undefined","appendTo","closeButton","language","data","dates","split","isRTL","rtl","format","DPGlobal","parseFormat","formatText","isInline","isInput","is","component","find","hasInput","length","disableDblClickSelection","onRender","linkField","linkFormat","minuteStep","pickerPosition","initialDate","faCSSprefix","leftArrow","rightArrow","closeIcon","minView","convertViewMode","maxView","modes","startViewMode","startView","viewMode","pickTime","forceParse","picker","template","on","click","proxy","mousedown","show","hide","addClass","each","parent","prepend","siblings","append","toggleClass","document","e","target","closest","autoclose","keyboardNavigation","todayBtn","todayHighlight","calendarWeeks","attr","i","val","parseInt","weekStart","weekEnd","startDate","Infinity","endDate","daysOfWeekDisabled","datesDisabled","setStartDate","setEndDate","setDaysOfWeekDisabled","setDatesDisabled","date","viewDate","parseDate","setValue","fillDow","fillMonths","update","showMode","_attachEvents","prototype","constructor","_events","_detachEvents","focus","keyup","keydown","dblclick","preventDefault","stopPropagation","blur","el","ev","off","height","outerHeight","place","window","trigger","type","remove","datepicker","getDate","d","getTime","getTimezoneOffset","setDate","setUTCDate","formatted","getFormattedDate","formatDate","updateNavArrows","isArray","map","valueOf","zIndexes","parents","css","push","zIndex","sort","a","b","pop","textbox","offset","width","outerWidth","fullOffsetTop","top","offsetLeft","left","removeClass","canShowTop","scrollTop","canShowBottom","fromArgs","currentVal","fill","dowCnt","html","cell","daysMin","monthsShort","year","month","dayMonth","hours","getUTCHours","minutes","getUTCMinutes","startYear","startMonth","endYear","endMonth","currentDate","titleFormat","en","text","months","toggle","prevMonth","day","getDaysInMonth","getUTCDay","nextMonth","clsName","getDay","getFullYear","calWeek","getMonth","inArray","empty","join","actual","Math","floor","currentYear","end","eq","slice","yearCont","hour","visibility","hasClass","nodeName","toLowerCase","className","dir","navStep","moveHour","moveDate","moveMonth","moveYear","getHours","getMinutes","getSeconds","_setDate","index","seconds","getUTCSeconds","setUTCMonth","setUTCFullYear","substr","indexOf","oldViewMode","which","change","new_date","setUTCHours","mag","abs","new_month","test","dateWithinRange","keyCode","dateChanged","newDate","newViewDate","ctrlKey","shiftKey","newViewMode","max","min","filter","changeViewDate","reset","fn","fdatepicker","option","args","Array","shift","$this","_typeof","extend","defaults","Constructor","days","daysShort","navFnc","isLeapYear","validParts","nonpunctuation","separators","replace","parts","match","Error","part_re","part","exec","Datetimepicker","call","parsed","setters_order","setters_map","hh","v","h","ii","setUTCMinutes","ss","setUTCSeconds","s","yyyy","yy","m","filtered","M","MM","mm","dd","cnt","isNaN","p","toString","substring","seps","headTemplate","contTemplate","footTemplate","jQuery"],"sources":["/home/agustibr/.asdf/installs/ruby/3.0.2/lib/ruby/gems/3.0.0/bundler/gems/decidim-a25b5c74f78d/decidim-core/app/packs/src/decidim/vendor/foundation-datepicker.js"],"sourcesContent":["/* eslint-disable */\n\n/* =========================================================\n * foundation-datepicker.js\n * Copyright 2015 Peter Beno, najlepsiwebdesigner@gmail.com, @benopeter\n * project website http://foundation-datepicker.peterbeno.com\n * ========================================================= */\n\n// This file is a modified version of the original file\n// See\n//  - https://github.com/decidim/decidim/pull/1207\n//  - https://github.com/decidim/decidim/pull/2512\n//  - https://github.com/decidim/decidim/pull/3515\n\n!(function($) {\n\n  function UTCDate() {\n    return new Date(Date.UTC(...arguments));\n  }\n\n  function UTCToday() {\n    let today = new Date();\n    return UTCDate(today.getUTCFullYear(), today.getUTCMonth(), today.getUTCDate());\n  }\n\n  let Datepicker = function(element, options) {\n    let that = this;\n\n    this.element = $(element);\n    this.autoShow = (options.autoShow == undefined ? true : options.autoShow);\n    this.appendTo = options.appendTo || \"body\";\n    this.closeButton = options.closeButton;\n    this.language = options.language || this.element.data(\"date-language\") || \"en\";\n    this.language = this.language in dates ? this.language : this.language.split(\"-\")[0]; // Check if \"de-DE\" style date is available, if not language should fallback to 2 letter code eg \"de\"\n    this.language = this.language in dates ? this.language : \"en\";\n    this.isRTL = dates[this.language].rtl || false;\n    this.format = DPGlobal.parseFormat(options.format || this.element.data(\"date-format\") || dates[this.language].format || \"mm/dd/yyyy\");\n    this.formatText = options.format || this.element.data(\"date-format\") || dates[this.language].format || \"mm/dd/yyyy\";\n    this.isInline = false;\n    this.isInput = this.element.is(\"input\");\n    this.component = this.element.is(\".date\") ? this.element.find(\".prefix, .postfix\") : false;\n    this.hasInput = this.component && this.element.find(\"input\").length;\n    this.disableDblClickSelection = options.disableDblClickSelection;\n    this.onRender = options.onRender || function() {};\n    if (this.component && this.component.length === 0) {\n      this.component = false;\n    }\n    this.linkField = options.linkField || this.element.data(\"link-field\") || false;\n    this.linkFormat = DPGlobal.parseFormat(options.linkFormat || this.element.data(\"link-format\") || \"yyyy-mm-dd hh:ii:ss\");\n    this.minuteStep = options.minuteStep || this.element.data(\"minute-step\") || 5;\n    this.pickerPosition = options.pickerPosition || this.element.data(\"picker-position\") || \"bottom-right\";\n    this.initialDate = options.initialDate || null;\n    this.faCSSprefix = options.faCSSprefix || \"fa\";\n    this.leftArrow = options.leftArrow || `<i class=\"${this.faCSSprefix} ${this.faCSSprefix}-chevron-left fi-arrow-left\"/>`;\n    this.rightArrow = options.rightArrow || `<i class=\"${this.faCSSprefix} ${this.faCSSprefix}-chevron-right fi-arrow-right\"/>`;\n    this.closeIcon = options.closeIcon || `<i class=\"${this.faCSSprefix} ${this.faCSSprefix}-remove ${this.faCSSprefix}-times fi-x\"></i>`;\n\n\n    this.minView = 0;\n    if (\"minView\" in options) {\n      this.minView = options.minView;\n    } else if (\"minView\" in this.element.data()) {\n      this.minView = this.element.data(\"min-view\");\n    }\n    this.minView = DPGlobal.convertViewMode(this.minView);\n\n    this.maxView = DPGlobal.modes.length - 1;\n    if (\"maxView\" in options) {\n      this.maxView = options.maxView;\n    } else if (\"maxView\" in this.element.data()) {\n      this.maxView = this.element.data(\"max-view\");\n    }\n    this.maxView = DPGlobal.convertViewMode(this.maxView);\n\n    this.startViewMode = \"month\";\n    if (\"startView\" in options) {\n      this.startViewMode = options.startView;\n    } else if (\"startView\" in this.element.data()) {\n      this.startViewMode = this.element.data(\"start-view\");\n    }\n    this.startViewMode = DPGlobal.convertViewMode(this.startViewMode);\n    this.viewMode = this.startViewMode;\n\n    if (!(\"minView\" in options) && !(\"maxView\" in options) && !(this.element.data(\"min-view\")) && !(this.element.data(\"max-view\"))) {\n      this.pickTime = false;\n      if (\"pickTime\" in options) {\n        this.pickTime = options.pickTime;\n      }\n      if (this.pickTime == true) {\n        this.minView = 0;\n        this.maxView = 4;\n      } else {\n        this.minView = 2;\n        this.maxView = 4;\n      }\n    }\n\n    this.forceParse = true;\n    if (\"forceParse\" in options) {\n      this.forceParse = options.forceParse;\n    } else if (\"dateForceParse\" in this.element.data()) {\n      this.forceParse = this.element.data(\"date-force-parse\");\n    }\n\n\n    this.picker = $(DPGlobal.template(this.leftArrow, this.rightArrow, this.closeIcon)).\n      appendTo(this.isInline ? this.element : this.appendTo).\n      on({\n        click: $.proxy(this.click, this),\n        mousedown: $.proxy(this.mousedown, this)\n      });\n    if (this.closeButton) {\n      this.picker.find(\"a.datepicker-close\").show();\n    } else {\n      this.picker.find(\"a.datepicker-close\").hide();\n    }\n\n    if (this.isInline) {\n      this.picker.addClass(\"datepicker-inline\");\n    } else {\n      this.picker.addClass(\"datepicker-dropdown dropdown-menu\");\n    }\n    if (this.isRTL) {\n      this.picker.addClass(\"datepicker-rtl\");\n\n      this.picker.find(\".date-switch\").each(function() {\n        $(this).parent().prepend($(this).siblings(\".next\"));\n        $(this).parent().append($(this).siblings(\".prev\"));\n      })\n      this.picker.find(\".prev, .next\").toggleClass(\"prev next\");\n\n    }\n    $(document).on(\"mousedown\", function(e) {\n      if (that.isInput && e.target === that.element[0]) {\n        return;\n      }\n\n      // Clicked outside the datepicker, hide it\n      if ($(e.target).closest(\".datepicker.datepicker-inline, .datepicker.datepicker-dropdown\").length === 0) {\n        that.hide();\n      }\n    });\n\n    this.autoclose = true;\n    if (\"autoclose\" in options) {\n      this.autoclose = options.autoclose;\n    } else if (\"dateAutoclose\" in this.element.data()) {\n      this.autoclose = this.element.data(\"date-autoclose\");\n    }\n\n    this.keyboardNavigation = true;\n    if (\"keyboardNavigation\" in options) {\n      this.keyboardNavigation = options.keyboardNavigation;\n    } else if (\"dateKeyboardNavigation\" in this.element.data()) {\n      this.keyboardNavigation = this.element.data(\"date-keyboard-navigation\");\n    }\n\n    this.todayBtn = (options.todayBtn || this.element.data(\"date-today-btn\") || false);\n    this.todayHighlight = (options.todayHighlight || this.element.data(\"date-today-highlight\") || false);\n\n    this.calendarWeeks = false;\n    if (\"calendarWeeks\" in options) {\n      this.calendarWeeks = options.calendarWeeks;\n    } else if (\"dateCalendarWeeks\" in this.element.data()) {\n      this.calendarWeeks = this.element.data(\"date-calendar-weeks\");\n    }\n    if (this.calendarWeeks)\n    {this.picker.find(\"tfoot th.today\").\n      attr(\"colspan\", function(i, val) {\n        return parseInt(val) + 1;\n      });}\n\n    this.weekStart = ((options.weekStart || this.element.data(\"date-weekstart\") || dates[this.language].weekStart || 0) % 7);\n    this.weekEnd = ((this.weekStart + 6) % 7);\n    this.startDate = -Infinity;\n    this.endDate = Infinity;\n    this.daysOfWeekDisabled = [];\n    this.datesDisabled = [];\n    this.setStartDate(options.startDate || this.element.data(\"date-startdate\"));\n    this.setEndDate(options.endDate || this.element.data(\"date-enddate\"));\n    this.setDaysOfWeekDisabled(options.daysOfWeekDisabled || this.element.data(\"date-days-of-week-disabled\"));\n    this.setDatesDisabled(options.datesDisabled || this.element.data(\"dates-disabled\"));\n\n    if (this.initialDate != null) {\n      this.date = this.viewDate = DPGlobal.parseDate(this.initialDate, this.format, this.language);\n      this.setValue();\n    }\n\n    this.fillDow();\n    this.fillMonths();\n    this.update();\n\n    this.showMode();\n\n    if (this.isInline) {\n      this.show();\n    }\n\n    this._attachEvents();\n  };\n\n  Datepicker.prototype = {\n    constructor: Datepicker,\n\n    _events: [],\n    _attachEvents: function() {\n      this._detachEvents();\n      if (this.isInput) { // single input\n        if (!this.keyboardNavigation) {\n          this._events = [\n            [this.element, {\n              focus: (this.autoShow) ? $.proxy(this.show, this) : function() {}\n            }]\n          ];\n        } else {\n          this._events = [\n            [this.element, {\n              focus: (this.autoShow) ? $.proxy(this.show, this) : function() {},\n              keyup: $.proxy(this.update, this),\n              keydown: $.proxy(this.keydown, this),\n              click: (this.element.attr(\"readonly\")) ? $.proxy(this.show, this) : function() {}\n            }]\n          ];\n        }\n      }\n      else if (this.component && this.hasInput) { // component: input + button\n        this._events = [\n          // For components that are not readonly, allow keyboard nav\n          [this.element.find(\"input\"), {\n            focus: (this.autoShow) ? $.proxy(this.show, this) : function() {},\n            keyup: $.proxy(this.update, this),\n            keydown: $.proxy(this.keydown, this)\n          }],\n          [this.component, {\n            click: $.proxy(this.show, this)\n          }]\n        ];\n      } else if (this.element.is(\"div\")) { // inline datepicker\n        this.isInline = true;\n      } else {\n        this._events = [\n          [this.element, {\n            click: $.proxy(this.show, this)\n          }]\n        ];\n      }\n\n      if (this.disableDblClickSelection) {\n        this._events[this._events.length] = [\n          this.element, {\n            dblclick: function(e) {\n              e.preventDefault();\n              e.stopPropagation();\n              $(this).blur()\n            }\n          }\n        ];\n      }\n\n      for (var el, ev, i = 0; i < this._events.length; i++) {\n        el = this._events[i][0];\n        ev = this._events[i][1];\n        el.on(ev);\n      }\n    },\n    _detachEvents: function() {\n      for (var el, ev, i = 0; i < this._events.length; i++) {\n        el = this._events[i][0];\n        ev = this._events[i][1];\n        el.off(ev);\n      }\n      this._events = [];\n    },\n\n    show: function(e) {\n      this.picker.show();\n      this.height = this.component ? this.component.outerHeight() : this.element.outerHeight();\n      this.update();\n      this.place();\n      $(window).on(\"resize\", $.proxy(this.place, this));\n      if (e) {\n        e.stopPropagation();\n        e.preventDefault();\n      }\n      this.element.trigger({\n        type: \"show\",\n        date: this.date\n      });\n    },\n\n    hide: function(e) {\n      if (this.isInline) {return;}\n      if (!this.picker.is(\":visible\")) {return;}\n      this.picker.hide();\n      $(window).off(\"resize\", this.place);\n      this.viewMode = this.startViewMode;\n      this.showMode();\n      if (!this.isInput) {\n        $(document).off(\"mousedown\", this.hide);\n      }\n\n      if (\n        this.forceParse &&\n                (\n                  this.isInput && this.element.val() ||\n                    this.hasInput && this.element.find(\"input\").val()\n                )\n      )\n      {this.setValue();}\n      this.element.trigger({\n        type: \"hide\",\n        date: this.date\n      });\n    },\n\n    remove: function() {\n      this._detachEvents();\n      this.picker.remove();\n      delete this.element.data().datepicker;\n    },\n\n    getDate: function() {\n      let d = this.getUTCDate();\n      return new Date(d.getTime() + (d.getTimezoneOffset() * 60000));\n    },\n\n    getUTCDate: function() {\n      return this.date;\n    },\n\n    setDate: function(d) {\n      this.setUTCDate(new Date(d.getTime() - (d.getTimezoneOffset() * 60000)));\n    },\n\n    setUTCDate: function(d) {\n      this.date = d;\n      this.setValue();\n    },\n\n    setValue: function() {\n      let formatted = this.getFormattedDate();\n      if (!this.isInput) {\n        if (this.component) {\n          this.element.find(\"input\").val(formatted);\n        }\n        this.element.data(\"date\", formatted);\n      } else {\n        this.element.val(formatted);\n      }\n    },\n\n    getFormattedDate: function(format) {\n      if (format === undefined)\n      {format = this.format;}\n      return DPGlobal.formatDate(this.date, format, this.language);\n    },\n\n    setStartDate: function(startDate) {\n      this.startDate = startDate || -Infinity;\n      if (this.startDate !== -Infinity) {\n        this.startDate = DPGlobal.parseDate(this.startDate, this.format, this.language);\n      }\n      this.update();\n      this.updateNavArrows();\n    },\n\n    setEndDate: function(endDate) {\n      this.endDate = endDate || Infinity;\n      if (this.endDate !== Infinity) {\n        this.endDate = DPGlobal.parseDate(this.endDate, this.format, this.language);\n      }\n      this.update();\n      this.updateNavArrows();\n    },\n\n    setDaysOfWeekDisabled: function(daysOfWeekDisabled) {\n      this.daysOfWeekDisabled = daysOfWeekDisabled || [];\n      if (!$.isArray(this.daysOfWeekDisabled)) {\n        this.daysOfWeekDisabled = this.daysOfWeekDisabled.split(/,\\s*/);\n      }\n      this.daysOfWeekDisabled = $.map(this.daysOfWeekDisabled, function(d) {\n        return parseInt(d, 10);\n      });\n      this.update();\n      this.updateNavArrows();\n    },\n\n    setDatesDisabled: function(datesDisabled) {\n      this.datesDisabled = datesDisabled || [];\n      if (!$.isArray(this.datesDisabled)) {\n        this.datesDisabled = this.datesDisabled.split(/,\\s*/);\n      }\n      this.datesDisabled = $.map(this.datesDisabled, function(d) {\n        return DPGlobal.parseDate(d, this.format, this.language).valueOf();\n      });\n      this.update();\n      this.updateNavArrows();\n    },\n\n    place: function() {\n      if (this.isInline) {return;}\n      let zIndexes = [];\n      this.element.parents().map(function() {\n        if ($(this).css(\"z-index\") != \"auto\") {\n          zIndexes.push(parseInt($(this).css(\"z-index\")));\n        }\n      });\n      let zIndex = zIndexes.sort(function(a, b) { return a - b; }).pop() + 10;\n      let textbox = this.component ? this.component : this.element;\n      let offset = textbox.offset();\n      let height = textbox.outerHeight() + parseInt(textbox.css(\"margin-top\"));\n      let width = textbox.outerWidth() + parseInt(textbox.css(\"margin-left\"));\n      let fullOffsetTop = offset.top + height;\n      let offsetLeft = offset.left;\n      this.picker.removeClass(\"datepicker-top datepicker-bottom\");\n      // can we show it on top?\n      let canShowTop = ($(window).scrollTop() < offset.top - this.picker.outerHeight());\n      let canShowBottom = (fullOffsetTop + this.picker.outerHeight()) < $(window).scrollTop() + $(window).height();\n      // If the datepicker is going to be below the window, show it on top of the input if it fits\n      if (!canShowBottom && canShowTop) {\n        fullOffsetTop = offset.top - this.picker.outerHeight();\n        this.picker.addClass(\"datepicker-top\");\n      }\n      else {\n        // Scroll up if we cannot show it on bottom or top (for mobile devices)\n        if (!canShowBottom) {$(window).scrollTop(offset.top);}\n        this.picker.addClass(\"datepicker-bottom\");\n      }\n\n      // if the datepicker is going to go past the right side of the window, we want\n      // to set the right position so the datepicker lines up with the textbox\n      if (offset.left + this.picker.width() >= $(window).width()) {\n        offsetLeft = (offset.left + width) - this.picker.width();\n      }\n      this.picker.css({\n        top: fullOffsetTop,\n        left: offsetLeft,\n        zIndex: zIndex\n      });\n    },\n\n    update: function() {\n      let date,\n          fromArgs = false;\n      let currentVal = this.isInput ? this.element.val() : this.element.data(\"date\") || this.element.find(\"input\").val();\n      if (arguments && arguments.length && (typeof arguments[0] === \"string\" || arguments[0] instanceof Date)) {\n        date = arguments[0];\n        fromArgs = true;\n      }\n      else {\n        date = this.isInput ? this.element.val() : this.element.data(\"date\") || this.element.find(\"input\").val();\n      }\n\n      this.date = DPGlobal.parseDate(date, this.format, this.language);\n\n      if (fromArgs) {\n        this.setValue();\n      } else if (currentVal == \"\") {\n        this.element.trigger({\n          type: \"changeDate\",\n          date: null\n        });\n      }\n\n      if (this.date < this.startDate) {\n        this.viewDate = new Date(this.startDate.valueOf());\n      } else if (this.date > this.endDate) {\n        this.viewDate = new Date(this.endDate.valueOf());\n      } else {\n        this.viewDate = new Date(this.date.valueOf());\n      }\n      this.fill();\n    },\n\n    fillDow: function() {\n      let dowCnt = this.weekStart,\n          html = \"<tr>\";\n      if (this.calendarWeeks) {\n        let cell = '<th class=\"cw\">&nbsp;</th>';\n        html += cell;\n        this.picker.find(\".datepicker-days thead tr:first-child\").prepend(cell);\n      }\n      while (dowCnt < this.weekStart + 7) {\n        html += `<th class=\"dow\">${dates[this.language].daysMin[(dowCnt++) % 7]}</th>`;\n      }\n      html += \"</tr>\";\n      this.picker.find(\".datepicker-days thead\").append(html);\n    },\n\n    fillMonths: function() {\n      let html = \"\",\n          i = 0;\n      while (i < 12) {\n        html += `<span class=\"month\">${dates[this.language].monthsShort[i++]}</span>`;\n      }\n      this.picker.find(\".datepicker-months td\").html(html);\n    },\n\n    fill: function() {\n      if (this.date == null || this.viewDate == null) {\n        return;\n      }\n\n      let d = new Date(this.viewDate.valueOf()),\n          year = d.getUTCFullYear(),\n          month = d.getUTCMonth(),\n          dayMonth = d.getUTCDate(),\n          hours = d.getUTCHours(),\n          minutes = d.getUTCMinutes(),\n          startYear = this.startDate !== -Infinity ? this.startDate.getUTCFullYear() : -Infinity,\n          startMonth = this.startDate !== -Infinity ? this.startDate.getUTCMonth() : -Infinity,\n          endYear = this.endDate !== Infinity ? this.endDate.getUTCFullYear() : Infinity,\n          endMonth = this.endDate !== Infinity ? this.endDate.getUTCMonth() : Infinity,\n          currentDate = this.date && UTCDate(this.date.getUTCFullYear(), this.date.getUTCMonth(), this.date.getUTCDate()).valueOf(),\n          today = new Date(),\n          titleFormat = dates[this.language].titleFormat || dates.en.titleFormat;\n      // this.picker.find('.datepicker-days thead th.date-switch')\n      //          .text(DPGlobal.formatDate(new UTCDate(year, month), titleFormat, this.language));\n\n      this.picker.find(\".datepicker-days thead th:eq(1)\").\n        text(`${dates[this.language].months[month]} ${year}`);\n      this.picker.find(\".datepicker-hours thead th:eq(1)\").\n        text(`${dayMonth} ${dates[this.language].months[month]} ${year}`);\n      this.picker.find(\".datepicker-minutes thead th:eq(1)\").\n        text(`${dayMonth} ${dates[this.language].months[month]} ${year}`);\n\n\n      this.picker.find(\"tfoot th.today\").\n        text(dates[this.language].today).\n        toggle(this.todayBtn !== false);\n      this.updateNavArrows();\n      this.fillMonths();\n      let prevMonth = UTCDate(year, month - 1, 28, 0, 0, 0, 0),\n          day = DPGlobal.getDaysInMonth(prevMonth.getUTCFullYear(), prevMonth.getUTCMonth());\n      prevMonth.setUTCDate(day);\n      prevMonth.setUTCDate(day - (prevMonth.getUTCDay() - this.weekStart + 7) % 7);\n      let nextMonth = new Date(prevMonth.valueOf());\n      nextMonth.setUTCDate(nextMonth.getUTCDate() + 42);\n      nextMonth = nextMonth.valueOf();\n      let html = [];\n      let clsName;\n      while (prevMonth.valueOf() < nextMonth) {\n        if (prevMonth.getUTCDay() == this.weekStart) {\n          html.push(\"<tr>\");\n          if (this.calendarWeeks) {\n            // adapted from https://github.com/timrwood/moment/blob/master/moment.js#L128\n            let a = new Date(prevMonth.getUTCFullYear(), prevMonth.getUTCMonth(), prevMonth.getUTCDate() - prevMonth.getDay() + 10 - (this.weekStart && this.weekStart % 7 < 5 && 7)),\n                b = new Date(a.getFullYear(), 0, 4),\n                calWeek = ~~((a - b) / 864e5 / 7 + 1.5);\n            html.push(`<td class=\"cw\">${calWeek}</td>`);\n          }\n        }\n        clsName = ` ${this.onRender(prevMonth)} `;\n        if (prevMonth.getUTCFullYear() < year || (prevMonth.getUTCFullYear() == year && prevMonth.getUTCMonth() < month)) {\n          clsName += \" old\";\n        } else if (prevMonth.getUTCFullYear() > year || (prevMonth.getUTCFullYear() == year && prevMonth.getUTCMonth() > month)) {\n          clsName += \" new\";\n        }\n        // Compare internal UTC date with local today, not UTC today\n        if (this.todayHighlight &&\n                    prevMonth.getUTCFullYear() == today.getFullYear() &&\n                    prevMonth.getUTCMonth() == today.getMonth() &&\n                    prevMonth.getUTCDate() == today.getDate()) {\n          clsName += \" today\";\n        }\n        if (currentDate && prevMonth.valueOf() == currentDate) {\n          clsName += \" active\";\n        }\n        if (prevMonth.valueOf() < this.startDate || prevMonth.valueOf() > this.endDate ||\n                    $.inArray(prevMonth.getUTCDay(), this.daysOfWeekDisabled) !== -1 ||\n                    $.inArray(prevMonth.valueOf(), this.datesDisabled) !== -1) {\n          clsName += \" disabled\";\n        }\n        html.push(`<td class=\"day${clsName}\">${prevMonth.getUTCDate()}</td>`);\n        if (prevMonth.getUTCDay() == this.weekEnd) {\n          html.push(\"</tr>\");\n        }\n        prevMonth.setUTCDate(prevMonth.getUTCDate() + 1);\n      }\n      this.picker.find(\".datepicker-days tbody\").empty().append(html.join(\"\"));\n\n      html = [];\n      for (var i = 0; i < 24; i++) {\n        var actual = UTCDate(year, month, dayMonth, i);\n        clsName = \"\";\n        // We want the previous hour for the startDate\n        if ((actual.valueOf() + 3600000) < this.startDate || actual.valueOf() > this.endDate) {\n          clsName += \" disabled\";\n        } else if (hours == i) {\n          clsName += \" active\";\n        }\n        html.push(`<span class=\"hour${clsName}\">${i}:00</span>`);\n      }\n      this.picker.find(\".datepicker-hours td\").html(html.join(\"\"));\n\n      html = [];\n      for (var i = 0; i < 60; i += this.minuteStep) {\n        var actual = UTCDate(year, month, dayMonth, hours, i);\n        clsName = \"\";\n        if (actual.valueOf() < this.startDate || actual.valueOf() > this.endDate) {\n          clsName += \" disabled\";\n        } else if (Math.floor(minutes / this.minuteStep) == Math.floor(i / this.minuteStep)) {\n          clsName += \" active\";\n        }\n        html.push(`<span class=\"minute${clsName}\">${hours}:${i < 10 ? `0${i}` : i}</span>`);\n      }\n      this.picker.find(\".datepicker-minutes td\").html(html.join(\"\"));\n\n\n      let currentYear = this.date && this.date.getUTCFullYear();\n      let months = this.picker.find(\".datepicker-months\").\n        find(\"th:eq(1)\").\n        text(year).\n        end().\n        find(\"span\").removeClass(\"active\");\n      if (currentYear && currentYear == year) {\n        months.eq(this.date.getUTCMonth()).addClass(\"active\");\n      }\n      if (year < startYear || year > endYear) {\n        months.addClass(\"disabled\");\n      }\n      if (year == startYear) {\n        months.slice(0, startMonth).addClass(\"disabled\");\n      }\n      if (year == endYear) {\n        months.slice(endMonth + 1).addClass(\"disabled\");\n      }\n\n      html = \"\";\n      year = parseInt(year / 10, 10) * 10;\n      let yearCont = this.picker.find(\".datepicker-years\").\n        find(\"th:eq(1)\").\n        text(`${year}-${year + 9}`).\n        end().\n        find(\"td\");\n      year -= 1;\n      for (var i = -1; i < 11; i++) {\n        html += `<span class=\"year${i == -1 || i == 10 ? \" old\" : \"\"}${currentYear == year ? \" active\" : \"\"}${year < startYear || year > endYear ? \" disabled\" : \"\"}\">${year}</span>`;\n        year += 1;\n      }\n      yearCont.html(html);\n    },\n\n    updateNavArrows: function() {\n      let d = new Date(this.viewDate),\n          year = d.getUTCFullYear(),\n          month = d.getUTCMonth(),\n          day = d.getUTCDate(),\n          hour = d.getUTCHours();\n      switch (this.viewMode) {\n      case 0:\n        if (this.startDate !== -Infinity && year <= this.startDate.getUTCFullYear() && month <= this.startDate.getUTCMonth() && day <= this.startDate.getUTCDate() && hour <= this.startDate.getUTCHours()) {\n          this.picker.find(\".prev\").css({\n            visibility: \"hidden\"\n          });\n        } else {\n          this.picker.find(\".prev\").css({\n            visibility: \"visible\"\n          });\n        }\n        if (this.endDate !== Infinity && year >= this.endDate.getUTCFullYear() && month >= this.endDate.getUTCMonth() && day >= this.endDate.getUTCDate() && hour >= this.endDate.getUTCHours()) {\n          this.picker.find(\".next\").css({\n            visibility: \"hidden\"\n          });\n        } else {\n          this.picker.find(\".next\").css({\n            visibility: \"visible\"\n          });\n        }\n        break;\n      case 1:\n        if (this.startDate !== -Infinity && year <= this.startDate.getUTCFullYear() && month <= this.startDate.getUTCMonth() && day <= this.startDate.getUTCDate()) {\n          this.picker.find(\".prev\").css({\n            visibility: \"hidden\"\n          });\n        } else {\n          this.picker.find(\".prev\").css({\n            visibility: \"visible\"\n          });\n        }\n        if (this.endDate !== Infinity && year >= this.endDate.getUTCFullYear() && month >= this.endDate.getUTCMonth() && day >= this.endDate.getUTCDate()) {\n          this.picker.find(\".next\").css({\n            visibility: \"hidden\"\n          });\n        } else {\n          this.picker.find(\".next\").css({\n            visibility: \"visible\"\n          });\n        }\n        break;\n      case 2:\n        if (this.startDate !== -Infinity && year <= this.startDate.getUTCFullYear() && month <= this.startDate.getUTCMonth()) {\n          this.picker.find(\".prev\").css({\n            visibility: \"hidden\"\n          });\n        } else {\n          this.picker.find(\".prev\").css({\n            visibility: \"visible\"\n          });\n        }\n        if (this.endDate !== Infinity && year >= this.endDate.getUTCFullYear() && month >= this.endDate.getUTCMonth()) {\n          this.picker.find(\".next\").css({\n            visibility: \"hidden\"\n          });\n        } else {\n          this.picker.find(\".next\").css({\n            visibility: \"visible\"\n          });\n        }\n        break;\n      case 3:\n      case 4:\n        if (this.startDate !== -Infinity && year <= this.startDate.getUTCFullYear()) {\n          this.picker.find(\".prev\").css({\n            visibility: \"hidden\"\n          });\n        } else {\n          this.picker.find(\".prev\").css({\n            visibility: \"visible\"\n          });\n        }\n        if (this.endDate !== Infinity && year >= this.endDate.getUTCFullYear()) {\n          this.picker.find(\".next\").css({\n            visibility: \"hidden\"\n          });\n        } else {\n          this.picker.find(\".next\").css({\n            visibility: \"visible\"\n          });\n        }\n        break;\n      }\n    },\n\n    click: function(e) {\n      e.stopPropagation();\n      e.preventDefault();\n\n      if ($(e.target).hasClass(\"datepicker-close\") || $(e.target).parent().hasClass(\"datepicker-close\")) {\n        this.hide();\n      }\n\n      let target = $(e.target).closest(\"span, td, th\");\n      if (target.length == 1) {\n        if (target.is(\".disabled\")) {\n          this.element.trigger({\n            type: \"outOfRange\",\n            date: this.viewDate,\n            startDate: this.startDate,\n            endDate: this.endDate\n          });\n          return;\n        }\n\n        switch (target[0].nodeName.toLowerCase()) {\n        case \"th\":\n          switch (target[0].className) {\n          case \"date-switch\":\n            this.showMode(1);\n            break;\n          case \"prev\":\n          case \"next\":\n            var dir = DPGlobal.modes[this.viewMode].navStep * (target[0].className == \"prev\" ? -1 : 1);\n            switch (this.viewMode) {\n            case 0:\n              this.viewDate = this.moveHour(this.viewDate, dir);\n              break;\n            case 1:\n              this.viewDate = this.moveDate(this.viewDate, dir);\n              break;\n            case 2:\n              this.viewDate = this.moveMonth(this.viewDate, dir);\n              break;\n            case 3:\n            case 4:\n              this.viewDate = this.moveYear(this.viewDate, dir);\n              break;\n            }\n            this.fill();\n            break;\n          case \"today\":\n            var date = new Date();\n            date = UTCDate(date.getFullYear(), date.getMonth(), date.getDate(), date.getHours(), date.getMinutes(), date.getSeconds());\n\n            this.viewMode = this.startViewMode;\n            this.showMode(0);\n            this._setDate(date);\n            break;\n          }\n          break;\n        case \"span\":\n          if (!target.is(\".disabled\")) {\n            if (target.is(\".month\")) {\n              if (this.minView === 3) {\n                var month = target.parent().find(\"span\").index(target) || 0;\n                var year = this.viewDate.getUTCFullYear(),\n                    day = 1,\n                    hours = this.viewDate.getUTCHours(),\n                    minutes = this.viewDate.getUTCMinutes(),\n                    seconds = this.viewDate.getUTCSeconds();\n                this._setDate(UTCDate(year, month, day, hours, minutes, seconds, 0));\n              } else {\n                this.viewDate.setUTCDate(1);\n                var month = target.parent().find(\"span\").index(target);\n                this.viewDate.setUTCMonth(month);\n                this.element.trigger({\n                  type: \"changeMonth\",\n                  date: this.viewDate\n                });\n              }\n            } else if (target.is(\".year\")) {\n              if (this.minView === 4) {\n                var year = parseInt(target.text(), 10) || 0;\n                var month = 0,\n                    day = 1,\n                    hours = this.viewDate.getUTCHours(),\n                    minutes = this.viewDate.getUTCMinutes(),\n                    seconds = this.viewDate.getUTCSeconds();\n                this._setDate(UTCDate(year, month, day, hours, minutes, seconds, 0));\n              } else {\n                this.viewDate.setUTCDate(1);\n                var year = parseInt(target.text(), 10) || 0;\n                this.viewDate.setUTCFullYear(year);\n                this.element.trigger({\n                  type: \"changeYear\",\n                  date: this.viewDate\n                });\n              }\n            } else if (target.is(\".hour\")) {\n              var hours = parseInt(target.text(), 10) || 0;\n              var year = this.viewDate.getUTCFullYear(),\n                  month = this.viewDate.getUTCMonth(),\n                  day = this.viewDate.getUTCDate(),\n                  minutes = this.viewDate.getUTCMinutes(),\n                  seconds = this.viewDate.getUTCSeconds();\n              this._setDate(UTCDate(year, month, day, hours, minutes, seconds, 0));\n            } else if (target.is(\".minute\")) {\n              var minutes = parseInt(target.text().substr(target.text().indexOf(\":\") + 1), 10) || 0;\n              var year = this.viewDate.getUTCFullYear(),\n                  month = this.viewDate.getUTCMonth(),\n                  day = this.viewDate.getUTCDate(),\n                  hours = this.viewDate.getUTCHours(),\n                  seconds = this.viewDate.getUTCSeconds();\n              this._setDate(UTCDate(year, month, day, hours, minutes, seconds, 0));\n            }\n\n\n            if (this.viewMode != 0) {\n\n\n              var oldViewMode = this.viewMode;\n              this.showMode(-1);\n              this.fill();\n              if (oldViewMode == this.viewMode && this.autoclose) {\n                this.hide();\n              }\n            } else {\n              this.fill();\n              if (this.autoclose) {\n                this.hide();\n              }\n            }\n          }\n          break;\n        case \"td\":\n\n\n          if (target.is(\".day\") && !target.is(\".disabled\")) {\n            var day = parseInt(target.text(), 10) || 1;\n            var year = this.viewDate.getUTCFullYear(),\n                month = this.viewDate.getUTCMonth(),\n                hours = this.viewDate.getUTCHours(),\n                minutes = this.viewDate.getUTCMinutes(),\n                seconds = this.viewDate.getUTCSeconds();\n            if (target.is(\".old\")) {\n              if (month === 0) {\n                month = 11;\n                year -= 1;\n              } else {\n                month -= 1;\n              }\n            } else if (target.is(\".new\")) {\n              if (month == 11) {\n                month = 0;\n                year += 1;\n              } else {\n                month += 1;\n              }\n            }\n            this._setDate(UTCDate(year, month, day, hours, minutes, seconds, 0));\n          }\n\n\n          var oldViewMode = this.viewMode;\n\n\n          this.showMode(-1);\n\n\n          this.fill();\n          if (oldViewMode == this.viewMode && this.autoclose) {\n            this.hide();\n          }\n          break;\n        }\n      }\n    },\n\n    _setDate: function(date, which) {\n\n      if (!which || which == \"date\")\n      {this.date = date;}\n      if (!which || which == \"view\")\n      {this.viewDate = date;}\n      this.fill();\n      this.setValue();\n      this.element.trigger({\n        type: \"changeDate\",\n        date: this.date\n      });\n      let element;\n      if (this.isInput) {\n        element = this.element;\n      } else if (this.component) {\n        element = this.element.find(\"input\");\n      }\n      if (element) {\n        element.change();\n        if (this.autoclose && (!which || which == \"date\")) {\n          // this.hide();\n        }\n      }\n    },\n\n    moveHour: function(date, dir) {\n      if (!dir) {return date;}\n      let new_date = new Date(date.valueOf());\n      dir = dir > 0 ? 1 : -1;\n      new_date.setUTCHours(new_date.getUTCHours() + dir);\n      return new_date;\n    },\n\n    moveDate: function(date, dir) {\n      if (!dir) {return date;}\n      let new_date = new Date(date.valueOf());\n      dir = dir > 0 ? 1 : -1;\n      new_date.setUTCDate(new_date.getUTCDate() + dir);\n      return new_date;\n    },\n\n    moveMonth: function(date, dir) {\n      if (!dir) {return date;}\n      let new_date = new Date(date.valueOf()),\n          day = new_date.getUTCDate(),\n          month = new_date.getUTCMonth(),\n          mag = Math.abs(dir),\n          new_month, test;\n      dir = dir > 0 ? 1 : -1;\n      if (mag == 1) {\n        test = dir == -1\n        // If going back one month, make sure month is not current month\n        // (eg, Mar 31 -> Feb 31 == Feb 28, not Mar 02)\n          ? function() {\n            return new_date.getUTCMonth() == month;\n          }\n        // If going forward one month, make sure month is as expected\n        // (eg, Jan 31 -> Feb 31 == Feb 28, not Mar 02)\n          : function() {\n            return new_date.getUTCMonth() != new_month;\n          };\n        new_month = month + dir;\n        new_date.setUTCMonth(new_month);\n        // Dec -> Jan (12) or Jan -> Dec (-1) -- limit expected date to 0-11\n        if (new_month < 0 || new_month > 11)\n        {new_month = (new_month + 12) % 12;}\n      } else {\n        // For magnitudes >1, move one month at a time...\n        for (let i = 0; i < mag; i++)\n        // ...which might decrease the day (eg, Jan 31 to Feb 28, etc)...\n        {new_date = this.moveMonth(new_date, dir);}\n        // ...then reset the day, keeping it in the new month\n        new_month = new_date.getUTCMonth();\n        new_date.setUTCDate(day);\n        test = function() {\n          return new_month != new_date.getUTCMonth();\n        };\n      }\n      // Common date-resetting loop -- if date is beyond end of month, make it\n      // end of month\n      while (test()) {\n        new_date.setUTCDate(--day);\n        new_date.setUTCMonth(new_month);\n      }\n      return new_date;\n    },\n\n    moveYear: function(date, dir) {\n      return this.moveMonth(date, dir * 12);\n    },\n\n    dateWithinRange: function(date) {\n      return date >= this.startDate && date <= this.endDate;\n    },\n\n    keydown: function(e) {\n      if (!this.keyboardNavigation) {\n        return true;\n      }\n      if (this.picker.is(\":not(:visible)\")) {\n        if (e.keyCode == 27) // allow escape to hide and re-show picker\n        {this.show();}\n        return;\n      }\n      let dateChanged = false,\n          day, dir, month,\n          newDate, newViewDate;\n      switch (e.keyCode) {\n      case 27: // escape\n        this.hide();\n        e.preventDefault();\n        break;\n      case 37: // left\n      case 39: // right\n        if (!this.keyboardNavigation) {break;}\n        dir = e.keyCode == 37 ? -1 : 1;\n        if (e.ctrlKey) {\n          newDate = this.moveYear(this.date, dir);\n          newViewDate = this.moveYear(this.viewDate, dir);\n        } else if (e.shiftKey) {\n          newDate = this.moveMonth(this.date, dir);\n          newViewDate = this.moveMonth(this.viewDate, dir);\n        } else {\n          newDate = new Date(this.date.valueOf());\n          newDate.setUTCDate(this.date.getUTCDate() + dir);\n          newViewDate = new Date(this.viewDate.valueOf());\n          newViewDate.setUTCDate(this.viewDate.getUTCDate() + dir);\n        }\n        if (this.dateWithinRange(newDate)) {\n          this.date = newDate;\n          this.viewDate = newViewDate;\n          this.setValue();\n          this.update();\n          e.preventDefault();\n          dateChanged = true;\n        }\n        break;\n      case 38: // up\n      case 40: // down\n        if (!this.keyboardNavigation) {break;}\n        dir = e.keyCode == 38 ? -1 : 1;\n        if (e.ctrlKey) {\n          newDate = this.moveYear(this.date, dir);\n          newViewDate = this.moveYear(this.viewDate, dir);\n        } else if (e.shiftKey) {\n          newDate = this.moveMonth(this.date, dir);\n          newViewDate = this.moveMonth(this.viewDate, dir);\n        } else {\n          newDate = new Date(this.date.valueOf());\n          newDate.setUTCDate(this.date.getUTCDate() + dir * 7);\n          newViewDate = new Date(this.viewDate.valueOf());\n          newViewDate.setUTCDate(this.viewDate.getUTCDate() + dir * 7);\n        }\n        if (this.dateWithinRange(newDate)) {\n          this.date = newDate;\n          this.viewDate = newViewDate;\n          this.setValue();\n          this.update();\n          e.preventDefault();\n          dateChanged = true;\n        }\n        break;\n      case 13: // enter\n        this.hide();\n        e.preventDefault();\n        break;\n      case 9: // tab\n        this.hide();\n        break;\n      }\n      if (dateChanged) {\n        this.element.trigger({\n          type: \"changeDate\",\n          date: this.date\n        });\n        let element;\n        if (this.isInput) {\n          element = this.element;\n        } else if (this.component) {\n          element = this.element.find(\"input\");\n        }\n        if (element) {\n          element.change();\n        }\n      }\n    },\n\n    showMode: function(dir) {\n\n      if (dir) {\n        let newViewMode = Math.max(0, Math.min(DPGlobal.modes.length - 1, this.viewMode + dir));\n        if (newViewMode >= this.minView && newViewMode <= this.maxView) {\n          this.viewMode = newViewMode;\n        }\n      }\n\n      /*\n                vitalets: fixing bug of very special conditions:\n                jquery 1.7.1 + webkit + show inline datepicker in bootstrap popover.\n                Method show() does not set display css correctly and datepicker is not shown.\n                Changed to .css('display', 'block') solve the problem.\n                See https://github.com/vitalets/x-editable/issues/37\n\n                In jquery 1.7.2+ everything works fine.\n            */\n      // this.picker.find('>div').hide().filter('.datepicker-'+DPGlobal.modes[this.viewMode].clsName).show();\n      this.picker.find(\">div\").hide().filter(`.datepicker-${DPGlobal.modes[this.viewMode].clsName}`).css(\"display\", \"block\");\n      this.updateNavArrows();\n    },\n\n    changeViewDate: function(date) {\n      this.date = date;\n      this.viewDate = date;\n      this.fill();\n    },\n\n    reset: function(e) {\n      this._setDate(null, \"date\");\n    }\n  };\n\n  $.fn.fdatepicker = function(option) {\n    let args = Array(...arguments);\n    args.shift();\n    return this.each(function() {\n      let $this = $(this),\n          data = $this.data(\"datepicker\"),\n          options = typeof option === \"object\" && option;\n      if (!data) {\n        $this.data(\"datepicker\", (data = new Datepicker(this, $.extend({}, $.fn.fdatepicker.defaults, options))));\n      }\n      if (typeof option === \"string\" && typeof data[option] === \"function\") {\n        data[option](...args);\n      }\n    });\n  };\n\n  $.fn.fdatepicker.defaults = {\n    onRender: function(date) {\n      return \"\";\n    }\n  };\n  $.fn.fdatepicker.Constructor = Datepicker;\n  var dates = $.fn.fdatepicker.dates = {\n    \"en\": {\n      days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\", \"Sunday\"],\n      daysShort: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\", \"Sun\"],\n      daysMin: [\"Su\", \"Mo\", \"Tu\", \"We\", \"Th\", \"Fr\", \"Sa\", \"Su\"],\n      months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n      monthsShort: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"],\n      today: \"Today\",\n      titleFormat: \"MM yyyy\"\n    }\n  };\n\n  var DPGlobal = {\n    modes: [{\n      clsName: \"minutes\",\n      navFnc: \"Hours\",\n      navStep: 1\n    }, {\n      clsName: \"hours\",\n      navFnc: \"Date\",\n      navStep: 1\n    }, {\n      clsName: \"days\",\n      navFnc: \"Month\",\n      navStep: 1\n    }, {\n      clsName: \"months\",\n      navFnc: \"FullYear\",\n      navStep: 1\n    }, {\n      clsName: \"years\",\n      navFnc: \"FullYear\",\n      navStep: 10\n    }],\n    isLeapYear: function(year) {\n      return (((year % 4 === 0) && (year % 100 !== 0)) || (year % 400 === 0));\n    },\n    getDaysInMonth: function(year, month) {\n      return [31, (DPGlobal.isLeapYear(year) ? 29 : 28), 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][month];\n    },\n    validParts: /hh?|ii?|ss?|dd?|mm?|MM?|yy(?:yy)?/g,\n    nonpunctuation: /[^ -\\/:-@\\[\\u3400-\\u9fff-`{-~\\t\\n\\r]+/g,\n    parseFormat: function(format) {\n      // IE treats \\0 as a string end in inputs (truncating the value),\n      // so it's a bad format delimiter, anyway\n      let separators = format.replace(this.validParts, \"\\0\").split(\"\\0\"),\n          parts = format.match(this.validParts);\n      if (!separators || !separators.length || !parts || parts.length === 0) {\n        throw new Error(\"Invalid date format.\");\n      }\n      this.formatText = format;\n      return {\n        separators: separators,\n        parts: parts\n      };\n    },\n    parseDate: function(date, format, language) {\n      if (date instanceof Date) {return new Date(date.valueOf() - date.getTimezoneOffset() * 60000);}\n      if (/^\\d{4}\\-\\d{1,2}\\-\\d{1,2}$/.test(date)) {\n        format = this.parseFormat(\"yyyy-mm-dd\");\n      }\n      if (/^\\d{4}\\-\\d{1,2}\\-\\d{1,2}[T ]\\d{1,2}\\:\\d{1,2}$/.test(date)) {\n        format = this.parseFormat(\"yyyy-mm-dd hh:ii\");\n      }\n      if (/^\\d{4}\\-\\d{1,2}\\-\\d{1,2}[T ]\\d{1,2}\\:\\d{1,2}\\:\\d{1,2}[Z]{0,1}$/.test(date)) {\n        format = this.parseFormat(\"yyyy-mm-dd hh:ii:ss\");\n      }\n      if (/^[-+]\\d+[dmwy]([\\s,]+[-+]\\d+[dmwy])*$/.test(date)) {\n        var part_re = /([-+]\\d+)([dmwy])/,\n            parts = date.match(/([-+]\\d+)([dmwy])/g),\n            part, dir;\n        date = new Date();\n        for (var i = 0; i < parts.length; i++) {\n          part = part_re.exec(parts[i]);\n          dir = parseInt(part[1]);\n          switch (part[2]) {\n          case \"d\":\n            date.setUTCDate(date.getUTCDate() + dir);\n            break;\n          case \"m\":\n            date = Datetimepicker.prototype.moveMonth.call(Datetimepicker.prototype, date, dir);\n            break;\n          case \"w\":\n            date.setUTCDate(date.getUTCDate() + dir * 7);\n            break;\n          case \"y\":\n            date = Datetimepicker.prototype.moveYear.call(Datetimepicker.prototype, date, dir);\n            break;\n          }\n        }\n        return UTCDate(date.getUTCFullYear(), date.getUTCMonth(), date.getUTCDate(), date.getUTCHours(), date.getUTCMinutes(), date.getUTCSeconds());\n      }\n      var parts = date && date.match(this.nonpunctuation) || [],\n          date = new Date(),\n          parsed = {},\n          setters_order = [\"hh\", \"h\", \"ii\", \"i\", \"ss\", \"s\", \"yyyy\", \"yy\", \"M\", \"MM\", \"m\", \"mm\", \"d\", \"dd\"],\n          setters_map = {\n            hh: function(d, v) {\n              return d.setUTCHours(v);\n            },\n            h: function(d, v) {\n              return d.setUTCHours(v);\n            },\n            ii: function(d, v) {\n              return d.setUTCMinutes(v);\n            },\n            i: function(d, v) {\n              return d.setUTCMinutes(v);\n            },\n            ss: function(d, v) {\n              return d.setUTCSeconds(v);\n            },\n            s: function(d, v) {\n              return d.setUTCSeconds(v);\n            },\n            yyyy: function(d, v) {\n              return d.setUTCFullYear(v);\n            },\n            yy: function(d, v) {\n              return d.setUTCFullYear(2000 + v);\n            },\n            m: function(d, v) {\n              v -= 1;\n              while (v < 0) {v += 12;}\n              v %= 12;\n              d.setUTCMonth(v);\n              while (d.getUTCMonth() != v)\n              {d.setUTCDate(d.getUTCDate() - 1);}\n              return d;\n            },\n            d: function(d, v) {\n              return d.setUTCDate(v);\n            }\n          },\n          val, filtered, part;\n      setters_map.M = setters_map.MM = setters_map.mm = setters_map.m;\n      setters_map.dd = setters_map.d;\n      date = UTCDate(date.getFullYear(), date.getMonth(), date.getDate(), 0, 0, 0); // date.getHours(), date.getMinutes(), date.getSeconds());\n      if (parts.length == format.parts.length) {\n        for (var i = 0, cnt = format.parts.length; i < cnt; i++) {\n          val = parseInt(parts[i], 10);\n          part = format.parts[i];\n          if (isNaN(val)) {\n            switch (part) {\n            case \"MM\":\n              filtered = $(dates[language].months).filter(function() {\n                let m = this.slice(0, parts[i].length),\n                    p = parts[i].slice(0, m.length);\n                return m == p;\n              });\n              val = $.inArray(filtered[0], dates[language].months) + 1;\n              break;\n            case \"M\":\n              filtered = $(dates[language].monthsShort).filter(function() {\n                let m = this.slice(0, parts[i].length),\n                    p = parts[i].slice(0, m.length);\n                return m == p;\n              });\n              val = $.inArray(filtered[0], dates[language].monthsShort) + 1;\n              break;\n            }\n          }\n          parsed[part] = val;\n        }\n        for (var i = 0, s; i < setters_order.length; i++) {\n          s = setters_order[i];\n          if (s in parsed && !isNaN(parsed[s]))\n          {setters_map[s](date, parsed[s])}\n        }\n      }\n      return date;\n    },\n    formatDate: function(date, format, language) {\n      if (date == null) {\n        return \"\";\n      }\n      let val = {\n        h: date.getUTCHours(),\n        i: date.getUTCMinutes(),\n        s: date.getUTCSeconds(),\n        d: date.getUTCDate(),\n        m: date.getUTCMonth() + 1,\n        M: dates[language].monthsShort[date.getUTCMonth()],\n        MM: dates[language].months[date.getUTCMonth()],\n        yy: date.getUTCFullYear().toString().substring(2),\n        yyyy: date.getUTCFullYear()\n      };\n      val.hh = (val.h < 10 ? \"0\" : \"\") + val.h;\n      val.ii = (val.i < 10 ? \"0\" : \"\") + val.i;\n      val.ss = (val.s < 10 ? \"0\" : \"\") + val.s;\n      val.dd = (val.d < 10 ? \"0\" : \"\") + val.d;\n      val.mm = (val.m < 10 ? \"0\" : \"\") + val.m;\n      var date = [],\n          seps = $.extend([], format.separators);\n      for (let i = 0, cnt = format.parts.length; i < cnt; i++) {\n        if (seps.length)\n        {date.push(seps.shift())}\n        date.push(val[format.parts[i]]);\n      }\n      return date.join(\"\");\n    },\n    convertViewMode: function(viewMode) {\n      switch (viewMode) {\n      case 4:\n      case \"decade\":\n        viewMode = 4;\n        break;\n      case 3:\n      case \"year\":\n        viewMode = 3;\n        break;\n      case 2:\n      case \"month\":\n        viewMode = 2;\n        break;\n      case 1:\n      case \"day\":\n        viewMode = 1;\n        break;\n      case 0:\n      case \"hour\":\n        viewMode = 0;\n        break;\n      }\n\n      return viewMode;\n    },\n    headTemplate: function(leftArrow, rightArrow) {return (`${\"<thead>\" +\n            \"<tr>\" +\n            '<th class=\"prev\">'}${leftArrow}</th>` +\n            \"<th colspan=\\\"5\\\" class=\\\"date-switch\\\"></th>\" +\n            `<th class=\"next\">${rightArrow}</th>` +\n            \"</tr>\" +\n            \"</thead>\")},\n    contTemplate: '<tbody><tr><td colspan=\"7\"></td></tr></tbody>',\n    footTemplate: '<tfoot><tr><th colspan=\"7\" class=\"today\"></th></tr></tfoot>'\n  };\n  DPGlobal.template = function(leftArrow, rightArrow, closeIcon) {return (`${'<div class=\"datepicker\">' +\n        '<div class=\"datepicker-minutes\">' +\n        '<table class=\" table-condensed\">'}${\n    DPGlobal.headTemplate(leftArrow, rightArrow)\n  }${DPGlobal.contTemplate\n  }${DPGlobal.footTemplate\n  }</table>` +\n        \"</div>\" +\n        \"<div class=\\\"datepicker-hours\\\">\" +\n        `<table class=\" table-condensed\">${\n          DPGlobal.headTemplate(leftArrow, rightArrow)\n        }${DPGlobal.contTemplate\n        }${DPGlobal.footTemplate\n        }</table>` +\n        \"</div>\" +\n        \"<div class=\\\"datepicker-days\\\">\" +\n        `<table class=\" table-condensed\">${\n          DPGlobal.headTemplate(leftArrow, rightArrow)\n        }<tbody></tbody>${\n          DPGlobal.footTemplate\n        }</table>` +\n        \"</div>\" +\n        \"<div class=\\\"datepicker-months\\\">\" +\n        `<table class=\"table-condensed\">${\n          DPGlobal.headTemplate(leftArrow, rightArrow)\n        }${DPGlobal.contTemplate\n        }${DPGlobal.footTemplate\n        }</table>` +\n        \"</div>\" +\n        \"<div class=\\\"datepicker-years\\\">\" +\n        `<table class=\"table-condensed\">${\n          DPGlobal.headTemplate(leftArrow, rightArrow)\n        }${DPGlobal.contTemplate\n        }${DPGlobal.footTemplate\n        }</table>` +\n        \"</div>\" +\n        `<a class=\"button datepicker-close tiny alert right\" style=\"width:auto;\">${closeIcon}</a>` +\n        \"</div>\")};\n\n  $.fn.fdatepicker.DPGlobal = DPGlobal;\n\n}(window.jQuery));\n"]},"metadata":{},"sourceType":"module"}