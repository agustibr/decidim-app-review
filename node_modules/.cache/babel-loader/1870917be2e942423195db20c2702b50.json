{"ast":null,"code":"import attachGeocoding from \"src/decidim/geocoding/attach_input\";\nimport createFieldDependentInputs from \"src/decidim/admin/field_dependent_inputs.component\";\n$(function () {\n  // Adds the latitude/longitude inputs after the geocoding is done\n  var $meetingAddress = $(\"#meeting_address\");\n\n  if ($meetingAddress.length > 0) {\n    attachGeocoding($meetingAddress);\n  }\n\n  var $form = $(\".meetings_form\");\n\n  if ($form.length > 0) {\n    var $meetingTypeOfMeeting = $form.find(\"#meeting_type_of_meeting\");\n    var $meetingOnlineFields = $form.find(\".field[data-meeting-type='online']\");\n    var $meetingInPersonFields = $form.find(\".field[data-meeting-type='in_person']\");\n    var $meetingOnlineAccessLevelFields = $form.find(\".field[data-meeting-type='online-access-level']\");\n\n    var toggleDependsOnSelect = function toggleDependsOnSelect($target, $showDiv, type) {\n      var value = $target.val();\n\n      if (value === \"hybrid\") {\n        $showDiv.show();\n      } else {\n        $showDiv.hide();\n\n        if (value === type) {\n          $showDiv.show();\n        }\n      }\n    };\n\n    $meetingTypeOfMeeting.on(\"change\", function (ev) {\n      var $target = $(ev.target);\n      var embedTypeValue = $(\"#meeting_iframe_embed_type\").val();\n      toggleDependsOnSelect($target, $meetingOnlineFields, \"online\");\n      toggleDependsOnSelect($target, $meetingInPersonFields, \"in_person\");\n\n      if (embedTypeValue === \"none\") {\n        $meetingOnlineAccessLevelFields.hide();\n      } else {\n        toggleDependsOnSelect($target, $meetingOnlineAccessLevelFields, \"online\");\n      }\n    });\n    toggleDependsOnSelect($meetingTypeOfMeeting, $meetingOnlineFields, \"online\");\n    toggleDependsOnSelect($meetingTypeOfMeeting, $meetingInPersonFields, \"in_person\");\n    var $meetingRegistrationType = $form.find(\"#meeting_registration_type\");\n    var $meetingRegistrationTerms = $form.find(\"#meeting_registration_terms\");\n    var $meetingRegistrationUrl = $form.find(\"#meeting_registration_url\");\n    var $meetingAvailableSlots = $form.find(\"#meeting_available_slots\");\n    $meetingRegistrationType.on(\"change\", function (ev) {\n      var $target = $(ev.target);\n      toggleDependsOnSelect($target, $meetingAvailableSlots, \"on_this_platform\");\n      toggleDependsOnSelect($target, $meetingRegistrationTerms, \"on_this_platform\");\n      toggleDependsOnSelect($target, $meetingRegistrationUrl, \"on_different_platform\");\n    });\n    toggleDependsOnSelect($meetingRegistrationType, $meetingAvailableSlots, \"on_this_platform\");\n    toggleDependsOnSelect($meetingRegistrationType, $meetingRegistrationTerms, \"on_this_platform\");\n    toggleDependsOnSelect($meetingRegistrationType, $meetingRegistrationUrl, \"on_different_platform\");\n    createFieldDependentInputs({\n      controllerField: $(\"#meeting_iframe_embed_type\"),\n      wrapperSelector: \".iframe-fields\",\n      dependentFieldsSelector: \".iframe-fields--access-level\",\n      dependentInputSelector: \"input\",\n      enablingCondition: function enablingCondition($field) {\n        return $field.val() !== \"none\";\n      }\n    });\n  }\n});","map":{"version":3,"mappings":"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","names":["attachGeocoding","createFieldDependentInputs","$","$meetingAddress","length","$form","$meetingTypeOfMeeting","find","$meetingOnlineFields","$meetingInPersonFields","$meetingOnlineAccessLevelFields","toggleDependsOnSelect","$target","$showDiv","type","value","val","show","hide","on","ev","target","embedTypeValue","$meetingRegistrationType","$meetingRegistrationTerms","$meetingRegistrationUrl","$meetingAvailableSlots","controllerField","wrapperSelector","dependentFieldsSelector","dependentInputSelector","enablingCondition","$field"],"sources":["/home/agustibr/.asdf/installs/ruby/3.0.2/lib/ruby/gems/3.0.0/bundler/gems/decidim-a25b5c74f78d/decidim-meetings/app/packs/src/decidim/meetings/meetings_form.js"],"sourcesContent":["import attachGeocoding from \"src/decidim/geocoding/attach_input\"\nimport createFieldDependentInputs from \"src/decidim/admin/field_dependent_inputs.component\"\n\n$(() => {\n  // Adds the latitude/longitude inputs after the geocoding is done\n  const $meetingAddress = $(\"#meeting_address\");\n  if ($meetingAddress.length > 0) {\n    attachGeocoding($meetingAddress);\n  }\n\n  const $form = $(\".meetings_form\");\n  if ($form.length > 0) {\n    const $meetingTypeOfMeeting = $form.find(\"#meeting_type_of_meeting\");\n    const $meetingOnlineFields = $form.find(\".field[data-meeting-type='online']\");\n    const $meetingInPersonFields = $form.find(\".field[data-meeting-type='in_person']\");\n    const $meetingOnlineAccessLevelFields = $form.find(\".field[data-meeting-type='online-access-level']\");\n\n    const toggleDependsOnSelect = ($target, $showDiv, type) => {\n      const value = $target.val();\n      if (value === \"hybrid\") {\n        $showDiv.show();\n      } else {\n        $showDiv.hide();\n        if (value === type) {\n          $showDiv.show();\n        }\n      }\n    };\n\n    $meetingTypeOfMeeting.on(\"change\", (ev) => {\n      const $target = $(ev.target);\n      const embedTypeValue = $(\"#meeting_iframe_embed_type\").val();\n\n      toggleDependsOnSelect($target, $meetingOnlineFields, \"online\");\n      toggleDependsOnSelect($target, $meetingInPersonFields, \"in_person\");\n      if (embedTypeValue === \"none\") {\n        $meetingOnlineAccessLevelFields.hide();\n      } else {\n        toggleDependsOnSelect($target, $meetingOnlineAccessLevelFields, \"online\");\n      }\n    });\n\n    toggleDependsOnSelect($meetingTypeOfMeeting, $meetingOnlineFields, \"online\");\n    toggleDependsOnSelect($meetingTypeOfMeeting, $meetingInPersonFields, \"in_person\");\n\n\n    const $meetingRegistrationType = $form.find(\"#meeting_registration_type\");\n    const $meetingRegistrationTerms = $form.find(\"#meeting_registration_terms\");\n    const $meetingRegistrationUrl = $form.find(\"#meeting_registration_url\");\n    const $meetingAvailableSlots = $form.find(\"#meeting_available_slots\");\n\n    $meetingRegistrationType.on(\"change\", (ev) => {\n      const $target = $(ev.target);\n      toggleDependsOnSelect($target, $meetingAvailableSlots, \"on_this_platform\");\n      toggleDependsOnSelect($target, $meetingRegistrationTerms, \"on_this_platform\");\n      toggleDependsOnSelect($target, $meetingRegistrationUrl, \"on_different_platform\");\n    });\n\n    toggleDependsOnSelect($meetingRegistrationType, $meetingAvailableSlots, \"on_this_platform\");\n    toggleDependsOnSelect($meetingRegistrationType, $meetingRegistrationTerms, \"on_this_platform\");\n    toggleDependsOnSelect($meetingRegistrationType, $meetingRegistrationUrl, \"on_different_platform\");\n\n    createFieldDependentInputs({\n      controllerField: $(\"#meeting_iframe_embed_type\"),\n      wrapperSelector: \".iframe-fields\",\n      dependentFieldsSelector: \".iframe-fields--access-level\",\n      dependentInputSelector: \"input\",\n      enablingCondition: ($field) => {\n        return $field.val() !== \"none\"\n      }\n    });\n  }\n});\n"]},"metadata":{},"sourceType":"module"}