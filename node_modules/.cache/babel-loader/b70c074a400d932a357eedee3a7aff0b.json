{"ast":null,"code":"/* eslint-disable no-invalid-this */\nimport svg4everybody from \"svg4everybody\";\nimport formDatePicker from \"src/decidim/form_datepicker\";\nimport fixDropdownMenus from \"src/decidim/dropdowns_menus\";\nimport createQuillEditor from \"src/decidim/editor\";\nimport Configuration from \"src/decidim/configuration\";\nimport ExternalLink from \"src/decidim/external_link\";\nimport updateExternalDomainLinks from \"src/decidim/external_domain_warning\";\nimport InputCharacterCounter from \"src/decidim/input_character_counter\";\nimport FormValidator from \"src/decidim/form_validator\";\nimport CommentsComponent from \"src/decidim/comments/comments.component\";\nimport DataPicker from \"src/decidim/data_picker\";\nimport FormFilterComponent from \"src/decidim/form_filter\";\nimport addInputEmoji from \"src/decidim/input_emoji\";\nimport dialogMode from \"src/decidim/dialog_mode\";\nimport FocusGuard from \"src/decidim/focus_guard\";\nimport backToListLink from \"src/decidim/back_to_list\";\nwindow.Decidim = window.Decidim || {};\nwindow.Decidim.config = new Configuration();\nwindow.Decidim.ExternalLink = ExternalLink;\nwindow.Decidim.InputCharacterCounter = InputCharacterCounter;\nwindow.Decidim.FormValidator = FormValidator;\nwindow.Decidim.DataPicker = DataPicker;\nwindow.Decidim.CommentsComponent = CommentsComponent;\nwindow.Decidim.addInputEmoji = addInputEmoji;\n$(function () {\n  window.theDataPicker = new DataPicker($(\".data-picker\"));\n  window.focusGuard = new FocusGuard(document.querySelector(\"body\"));\n  $(document).foundation();\n  $(document).on(\"open.zf.reveal\", function (ev) {\n    dialogMode($(ev.target));\n  }); // Trap the focus within the mobile menu if the user enters it. This is an\n  // accessibility feature forcing the focus within the offcanvas container\n  // which holds the mobile menu.\n\n  $(\"#offCanvas\").on(\"openedEnd.zf.offCanvas\", function (ev) {\n    ev.target.querySelector(\".main-nav a\").focus();\n    window.focusGuard.trap(ev.target);\n  }).on(\"closed.zf.offCanvas\", function () {\n    window.focusGuard.disable();\n  });\n  fixDropdownMenus();\n  svg4everybody(); // Prevent data-open buttons e.g. from submitting the underlying form in\n  // authorized action buttons.\n\n  $(\"[data-open]\").on(\"click\", function (event) {\n    event.preventDefault();\n  });\n  formDatePicker();\n  $(\".editor-container\").each(function (_idx, container) {\n    createQuillEditor(container);\n  });\n  $('a[target=\"_blank\"]').each(function (_i, elem) {\n    var $link = $(elem);\n    $link.data(\"external-link\", new ExternalLink($link));\n  }); // Mount comments component\n\n  $(\"[data-decidim-comments]\").each(function (_i, el) {\n    var $el = $(el);\n    var comments = new CommentsComponent($el, $el.data(\"decidim-comments\"));\n    comments.mountComponent();\n    $(el).data(\"comments\", comments);\n  });\n  $(\"form.new_filter\").each(function () {\n    var formFilter = new FormFilterComponent($(this));\n    formFilter.mountComponent();\n  });\n  updateExternalDomainLinks($(\"body\"));\n  addInputEmoji();\n  backToListLink(document.querySelectorAll(\".js-back-to-list\"));\n});","map":{"version":3,"mappings":"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","names":["svg4everybody","formDatePicker","fixDropdownMenus","createQuillEditor","Configuration","ExternalLink","updateExternalDomainLinks","InputCharacterCounter","FormValidator","CommentsComponent","DataPicker","FormFilterComponent","addInputEmoji","dialogMode","FocusGuard","backToListLink","window","Decidim","config","$","theDataPicker","focusGuard","document","querySelector","foundation","on","ev","target","focus","trap","disable","event","preventDefault","each","_idx","container","_i","elem","$link","data","el","$el","comments","mountComponent","formFilter","querySelectorAll"],"sources":["/home/agustibr/.asdf/installs/ruby/3.0.2/lib/ruby/gems/3.0.0/bundler/gems/decidim-a25b5c74f78d/decidim-core/app/packs/src/decidim/index.js"],"sourcesContent":["/* eslint-disable no-invalid-this */\n\nimport svg4everybody from \"svg4everybody\"\nimport formDatePicker from \"src/decidim/form_datepicker\"\nimport fixDropdownMenus from \"src/decidim/dropdowns_menus\"\nimport createQuillEditor from \"src/decidim/editor\"\nimport Configuration from \"src/decidim/configuration\"\nimport ExternalLink from \"src/decidim/external_link\"\nimport updateExternalDomainLinks from \"src/decidim/external_domain_warning\"\nimport InputCharacterCounter from \"src/decidim/input_character_counter\"\nimport FormValidator from \"src/decidim/form_validator\"\nimport CommentsComponent from \"src/decidim/comments/comments.component\"\nimport DataPicker from \"src/decidim/data_picker\"\nimport FormFilterComponent from \"src/decidim/form_filter\"\nimport addInputEmoji from \"src/decidim/input_emoji\"\nimport dialogMode from \"src/decidim/dialog_mode\"\nimport FocusGuard from \"src/decidim/focus_guard\"\nimport backToListLink from \"src/decidim/back_to_list\"\n\nwindow.Decidim = window.Decidim || {};\nwindow.Decidim.config = new Configuration()\nwindow.Decidim.ExternalLink = ExternalLink;\nwindow.Decidim.InputCharacterCounter = InputCharacterCounter;\nwindow.Decidim.FormValidator = FormValidator;\nwindow.Decidim.DataPicker = DataPicker;\nwindow.Decidim.CommentsComponent = CommentsComponent;\nwindow.Decidim.addInputEmoji = addInputEmoji;\n\n$(() => {\n  window.theDataPicker = new DataPicker($(\".data-picker\"));\n  window.focusGuard = new FocusGuard(document.querySelector(\"body\"));\n\n  $(document).foundation();\n  $(document).on(\"open.zf.reveal\", (ev) => {\n    dialogMode($(ev.target));\n  });\n\n  // Trap the focus within the mobile menu if the user enters it. This is an\n  // accessibility feature forcing the focus within the offcanvas container\n  // which holds the mobile menu.\n  $(\"#offCanvas\").on(\"openedEnd.zf.offCanvas\", (ev) => {\n    ev.target.querySelector(\".main-nav a\").focus();\n    window.focusGuard.trap(ev.target);\n  }).on(\"closed.zf.offCanvas\", () => {\n    window.focusGuard.disable();\n  });\n\n  fixDropdownMenus();\n\n  svg4everybody();\n\n  // Prevent data-open buttons e.g. from submitting the underlying form in\n  // authorized action buttons.\n  $(\"[data-open]\").on(\"click\", (event) => {\n    event.preventDefault();\n  });\n\n  formDatePicker();\n\n  $(\".editor-container\").each((_idx, container) => {\n    createQuillEditor(container);\n  });\n\n  $('a[target=\"_blank\"]').each((_i, elem) => {\n    const $link = $(elem);\n    $link.data(\"external-link\", new ExternalLink($link));\n  });\n\n  // Mount comments component\n  $(\"[data-decidim-comments]\").each((_i, el) => {\n    const $el = $(el);\n    const comments = new CommentsComponent($el, $el.data(\"decidim-comments\"));\n    comments.mountComponent();\n    $(el).data(\"comments\", comments);\n  });\n\n  $(\"form.new_filter\").each(function () {\n    const formFilter = new FormFilterComponent($(this));\n\n    formFilter.mountComponent();\n  })\n\n  updateExternalDomainLinks($(\"body\"))\n\n  addInputEmoji()\n\n  backToListLink(document.querySelectorAll(\".js-back-to-list\"));\n});\n"]},"metadata":{},"sourceType":"module"}