{"ast":null,"code":"export var checkTitles = function checkTitles(parentElement, saveButton) {\n  var everyItemHasTitle = true;\n  Array.from(parentElement.children).forEach(function (item) {\n    var title = item.querySelector(\"input[type='text']\").value;\n    var noTitleErrorSpan = item.querySelector(\".no-title-error\");\n\n    if (!title || title.length === 0) {\n      everyItemHasTitle = false;\n      saveButton.disabled = true;\n      noTitleErrorSpan.classList.add(\"is-visible\");\n      item.appendChild(noTitleErrorSpan);\n    } else {\n      noTitleErrorSpan.classList.remove(\"is-visible\");\n    }\n  });\n\n  if (everyItemHasTitle) {\n    saveButton.disabled = false;\n  }\n};\nexport var truncateFilename = function truncateFilename(filename) {\n  var maxLength = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 31;\n\n  if (filename.length <= maxLength) {\n    return filename;\n  }\n\n  var charactersFromBegin = Math.floor(maxLength / 2) - 3;\n  var charactersFromEnd = maxLength - charactersFromBegin - 3;\n  return \"\".concat(filename.slice(0, charactersFromBegin), \"...\").concat(filename.slice(-charactersFromEnd));\n};\nexport var createHiddenInput = function createHiddenInput(elClasses, elName, elValue) {\n  var el = document.createElement(\"input\");\n  el.type = \"hidden\";\n\n  if (elClasses) {\n    if (typeof elClasses === \"string\") {\n      el.className = elClasses;\n    } else {\n      el.className = elClasses.join(\" \");\n    }\n  }\n\n  if (elName) {\n    el.name = elName;\n  }\n\n  if (elValue) {\n    el.value = elValue;\n  }\n\n  return el;\n};","map":{"version":3,"mappings":"AAAA,OAAO,IAAMA,WAAW,GAAG,SAAdA,WAAc,CAACC,aAAD,EAAgBC,UAAhB,EAA+B;EACxD,IAAIC,iBAAiB,GAAG,IAAxB;EAEAC,KAAK,CAACC,IAAND,CAAWH,aAAa,CAACK,QAAzBF,EAAmCG,OAAnCH,CAA2C,UAACI,IAAD,EAAU;IACnD,IAAMC,KAAK,GAAGD,IAAI,CAACE,aAALF,CAAmB,oBAAnBA,EAAyCG,KAAvD;IACA,IAAMC,gBAAgB,GAAGJ,IAAI,CAACE,aAALF,CAAmB,iBAAnBA,CAAzB;;IACA,IAAI,CAACC,KAAD,IAAUA,KAAK,CAACI,MAANJ,KAAiB,CAA/B,EAAkC;MAChCN,iBAAiB,GAAG,KAApBA;MACAD,UAAU,CAACY,QAAXZ,GAAsB,IAAtBA;MACAU,gBAAgB,CAACG,SAAjBH,CAA2BI,GAA3BJ,CAA+B,YAA/BA;MACAJ,IAAI,CAACS,WAALT,CAAiBI,gBAAjBJ;IAJF,OAKO;MACLI,gBAAgB,CAACG,SAAjBH,CAA2BM,MAA3BN,CAAkC,YAAlCA;IACD;EAVH;;EAaA,IAAIT,iBAAJ,EAAuB;IACrBD,UAAU,CAACY,QAAXZ,GAAsB,KAAtBA;EACD;AAlBI;AAqBP,OAAO,IAAMiB,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACC,QAAD,EAA8B;EAAA,IAAnBC,SAAmB,uEAAP,EAAO;;EAC5D,IAAID,QAAQ,CAACP,MAATO,IAAmBC,SAAvB,EAAkC;IAChC,OAAOD,QAAP;EACD;;EAED,IAAME,mBAAmB,GAAGC,IAAI,CAACC,KAALD,CAAWF,SAAS,GAAG,CAAvBE,IAA4B,CAAxD;EACA,IAAME,iBAAiB,GAAGJ,SAAS,GAAGC,mBAAZD,GAAkC,CAA5D;EACA,iBAAUD,QAAQ,CAACM,KAATN,CAAe,CAAfA,EAAkBE,mBAAlBF,CAAV,gBAAsDA,QAAQ,CAACM,KAATN,CAAe,CAACK,iBAAhBL,CAAtD;AAPK;AAUP,OAAO,IAAMO,iBAAiB,GAAG,SAApBA,iBAAoB,CAACC,SAAD,EAAYC,MAAZ,EAAoBC,OAApB,EAAgC;EAC/D,IAAMC,EAAE,GAAGC,QAAQ,CAACC,aAATD,CAAuB,OAAvBA,CAAX;EACAD,EAAE,CAACG,IAAHH,GAAU,QAAVA;;EACA,IAAIH,SAAJ,EAAe;IACb,IAAI,OAAQA,SAAR,KAAuB,QAA3B,EAAqC;MACnCG,EAAE,CAACI,SAAHJ,GAAeH,SAAfG;IADF,OAEO;MACLA,EAAE,CAACI,SAAHJ,GAAeH,SAAS,CAACQ,IAAVR,CAAe,GAAfA,CAAfG;IACD;EACF;;EACD,IAAIF,MAAJ,EAAY;IACVE,EAAE,CAACM,IAAHN,GAAUF,MAAVE;EACD;;EACD,IAAID,OAAJ,EAAa;IACXC,EAAE,CAACpB,KAAHoB,GAAWD,OAAXC;EACD;;EACD,OAAOA,EAAP;AAhBK","names":["checkTitles","parentElement","saveButton","everyItemHasTitle","Array","from","children","forEach","item","title","querySelector","value","noTitleErrorSpan","length","disabled","classList","add","appendChild","remove","truncateFilename","filename","maxLength","charactersFromBegin","Math","floor","charactersFromEnd","slice","createHiddenInput","elClasses","elName","elValue","el","document","createElement","type","className","join","name"],"sources":["/home/agustibr/.asdf/installs/ruby/3.0.2/lib/ruby/gems/3.0.0/bundler/gems/decidim-a25b5c74f78d/decidim-core/app/packs/src/decidim/direct_uploads/upload_utility.js"],"sourcesContent":["export const checkTitles = (parentElement, saveButton) => {\n  let everyItemHasTitle = true;\n\n  Array.from(parentElement.children).forEach((item) => {\n    const title = item.querySelector(\"input[type='text']\").value;\n    const noTitleErrorSpan = item.querySelector(\".no-title-error\");\n    if (!title || title.length === 0) {\n      everyItemHasTitle = false;\n      saveButton.disabled = true;\n      noTitleErrorSpan.classList.add(\"is-visible\");\n      item.appendChild(noTitleErrorSpan);\n    } else {\n      noTitleErrorSpan.classList.remove(\"is-visible\");\n    }\n  });\n\n  if (everyItemHasTitle) {\n    saveButton.disabled = false;\n  }\n}\n\nexport const truncateFilename = (filename, maxLength = 31) => {\n  if (filename.length <= maxLength) {\n    return filename;\n  }\n\n  const charactersFromBegin = Math.floor(maxLength / 2) - 3;\n  const charactersFromEnd = maxLength - charactersFromBegin - 3;\n  return `${filename.slice(0, charactersFromBegin)}...${filename.slice(-charactersFromEnd)}`;\n}\n\nexport const createHiddenInput = (elClasses, elName, elValue) => {\n  const el = document.createElement(\"input\");\n  el.type = \"hidden\";\n  if (elClasses) {\n    if (typeof (elClasses) === \"string\") {\n      el.className = elClasses;\n    } else {\n      el.className = elClasses.join(\" \")\n    }\n  }\n  if (elName) {\n    el.name = elName;\n  }\n  if (elValue) {\n    el.value = elValue;\n  }\n  return el;\n}\n"]},"metadata":{},"sourceType":"module"}